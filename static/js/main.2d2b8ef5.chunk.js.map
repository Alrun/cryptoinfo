{"version":3,"sources":["context/actions.js","context/reducer.js","context/index.js","utils.js","components/TableHeader/TableHeader.js","components/TablePopover/TablePopover.js","components/TableRow/TableRow.js","components/Table/Table.js","components/Switch/Switch.js","components/TableContainer/TableContainer.js","components/PieChart/PieChart.js","components/PieChartContainer/PieChartContainer.js","components/SSModal/SSModal.js","components/Sidebar/Sidebar.js","components/SelectCurrency/SelectCurrency.js","components/TableSum/TableSum.js","components/Header/Header.js","components/Footer/Footer.js","components/Price/Price.js","components/Main/Main.js","App.js","serviceWorker.js","index.js"],"names":["C","setSpreadsheetLink","link","type","spreadsheetFetchSuccess","data","spreadsheetLoading","bool","spreadsheetError","msg","marketFetchSuccess","marketLoading","marketError","setCurrency","cur","setTableData","sortItems","sortBy","groupOpenToggle","id","groupOpenAll","initialState","fiat","fiatSymbol","sortDesc","tableData","localStorage","JSON","parse","groupOpen","spreadsheet","isLoading","error","market","priceBtc","priceUsdt","reducer","state","action","filter","item","label","match","join","toLowerCase","price","find","concat","StoreContext","createContext","sortStr","a","b","decimalFormat","number","s","decimals","decPoint","thousandsSep","String","replace","Math","round","pow","split","length","Array","sum","arr","key","reduce","acc","isNaN","lightenDarkenColor","color","percent","num","parseInt","amt","R","B","G","toString","slice","head","title","useStyles","makeStyles","root","borderBottom","alignSelf","width","col","flexShrink","padding","textAlign","justifyContent","borderRadius","textTransform","backgroundColor","sort","verticalAlign","arrow","marginBottom","arrowTop","transform","arrowBottom","col1","col8","flexGrow","TableHeader","props","useContext","dispatch","colWidth","classes","Box","display","className","map","idx","Button","component","style","Object","keys","onClick","children","fontSize","theme","lineHeight","paddingRight","icon","transition","popover","pointerEvents","paper","spacing","TablePopover","buyFee","sellFee","React","useState","anchorEl","setAnchorEl","onMouseEnter","e","currentTarget","onMouseLeave","Popper","open","placement","TransitionProps","Fade","timeout","Paper","elevation","p","typo","typography","load","transitions","create","opacity","loadActive","preloader","top","right","position","bottom","marginTop","overflow","progress","animationDuration","margin","zIndex","LightTooltip","withStyles","tooltip","palette","common","white","boxShadow","shadows","fontWeight","fontWeightRegular","Tooltip","TableRow","buyPrice","quantity","wallet","profit","gain","val","errorText","group","col2","toFixed","col3","Number","col4","CircularProgress","size","disableShrink","thickness","col5","col6","col7","Typography","noWrap","col9","wrap","border","flexWrap","minHeight","initRow","borderTop","row","toggle","cursor","toggleActive","nested","collapse","Table","Row","useEffect","i","List","disablePadding","ListItem","m","Fragment","Collapse","in","unmountOnExit","Switch","checked","handleChange","FormControlLabel","control","onChange","inputProps","labelPlacement","DEMO_SPREADSHEET","DEMO_KEY","TableContainer","getSpreadsheetData","useCallback","schemaSpreadsheet","gsx$title","$t","toUpperCase","parseFloat","gsx$price","gsx$quantity","gsx$buyfee","gsx$sellfee","gsx$wallet","axios","get","response","spreadsheetData","feed","entry","spreadSheetLink","message","console","getMarketData","currency","coins","coinListWODouble","includes","push","coinList","schemaMarket","Name","Label","Price","timestamp","Timestamp","Markets","dataWODeadCoins","compileTableData","rawDataExtended","coinPriceData","calcProfit","priceSell","priceBuy","calcGain","NaN","currencyListWCount","tableArr","sortTableRows","reverse","sortedArr","hasOwnProperty","groupArr","groupLabel","forEach","feeBuy","feeSell","walletList","curr","coinsFromSpreadsheet","ssList","Set","mList","Grid","container","alignItems","xs","setColors","count","mainColors","grade","colors","j","renderActiveShape","RADIAN","PI","cx","cy","midAngle","innerRadius","outerRadius","startAngle","endAngle","fill","payload","name","sin","cos","sx","sy","mx","my","ex","ey","textAnchor","x","y","dy","value","d","stroke","r","renderActiveShapeCompact","ActiveShapePieChart","memo","activeIndex","setActiveIndex","height","outer","compact","index","dataKey","paddingAngle","activeShape","isAnimationActive","PieChart","pieData","cap","left","borderStyle","borderColor","PieChartContainer","setPieData","useTheme","notMobile","useMediaQuery","breakpoints","up","pieConfig","pieWidth","pieHeight","pieOuter","sortNum","enter","exit","borderWidth","modalHead","modalTitle","h6","textField","borderBottomColor","text","wordBreak","SSModal","setValue","invalid","setInvalid","inputEl","useRef","handleClose","Dialog","onClose","variant","removeItem","DialogContent","TextField","inputRef","fullWidth","autoFocus","dense","target","DialogActions","button","isValid","test","current","focus","sId","handleSubmit","disabled","drawerHeader","mixins","toolbar","minWidth","Sidebar","ssModal","setSsModal","role","IconButton","toggleDrawer","onKeyDown","Divider","ListItemIcon","ListItemText","primary","currencyList","symbol","marginRight","SelectCurrency","handleClick","ClickAwayListener","onClickAway","modifiers","flip","enabled","offset","computeStyle","selected","TableSum","total","setTotal","setProfit","logo","h4","letterSpacing","order","Header","sidebar","setSidebar","event","Container","fixed","maxWidth","sm","Fab","aria-label","menuButton","SwipeableDrawer","anchor","onOpen","gitHubUrl","GitHubIcon","viewBox","aria-hidden","Footer","mt","Link","href","Date","getFullYear","whiteSpace","fontWeightMedium","wrapper","flexDirection","main","flex","Main","lg","xl","createMuiTheme","background","default","overrides","Boolean","window","location","hostname","ReactDOM","render","useReducer","Provider","MuiThemeProvider","CssBaseline","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.2d2b8ef5.chunk.js","sourcesContent":["export const C = {\r\n  SET_SPREADSHEET_LINK: 'SET_SPREADSHEET_LINK',\r\n  SPREADSHEET_FETCH_SUCCESS: 'SPREADSHEET_FETCH_SUCCESS',\r\n  SPREADSHEET_LOADING: 'SPREADSHEET_LOADING',\r\n  SPREADSHEET_ERROR: 'SPREADSHEET_ERROR',\r\n  MARKET_FETCH_SUCCESS: 'MARKET_FETCH_SUCCESS',\r\n  MARKET_LOADING: 'MARKET_LOADING',\r\n  MARKET_ERROR: 'MARKET_ERROR',\r\n  SORT_ITEMS: 'SORT_ITEMS',\r\n  SET_TABLE_DATA: 'SET_TABLE_DATA',\r\n  SET_CURRENCY: 'SET_CURRENCY',\r\n  GROUP_OPEN_TOGGLE: 'GROUP_OPEN_TOGGLE',\r\n  GROUP_OPEN_ALL: 'GROUP_OPEN_ALL'\r\n};\r\n\r\nexport const setSpreadsheetLink = link => ({\r\n    type: C.SET_SPREADSHEET_LINK,\r\n    link\r\n});\r\n\r\nexport const spreadsheetFetchSuccess = data => ({\r\n  type: C.SPREADSHEET_FETCH_SUCCESS,\r\n  data\r\n});\r\n\r\nexport const spreadsheetLoading = bool => ({\r\n  type: C.SPREADSHEET_LOADING,\r\n  bool\r\n});\r\n\r\nexport const spreadsheetError = msg => ({\r\n  type: C.SPREADSHEET_ERROR,\r\n  msg\r\n});\r\n\r\nexport const marketFetchSuccess = data => ({\r\n  type: C.MARKET_FETCH_SUCCESS,\r\n  data\r\n});\r\n\r\nexport const marketLoading = bool => ({\r\n  type: C.MARKET_LOADING,\r\n  bool\r\n});\r\n\r\nexport const marketError = msg => ({\r\n  type: C.MARKET_ERROR,\r\n  msg\r\n});\r\n\r\nexport const setCurrency = cur => ({\r\n  type: C.SET_CURRENCY,\r\n  cur\r\n});\r\n\r\nexport const setTableData = data => ({\r\n  type: C.SET_TABLE_DATA,\r\n  data\r\n});\r\n\r\nexport const sortItems = sortBy => ({\r\n  type: C.SORT_ITEMS,\r\n  sortBy\r\n});\r\n\r\nexport const groupOpenToggle = id => ({\r\n  type: C.GROUP_OPEN_TOGGLE,\r\n  id\r\n});\r\n\r\nexport const groupOpenAll = bool => ({\r\n  type: C.GROUP_OPEN_ALL,\r\n  bool\r\n});","import { C } from './actions';\r\n\r\nexport const initialState = {\r\n  fiat: 'btc',\r\n  fiatSymbol: '₿',\r\n  sortBy: 'title',\r\n  sortDesc: false,\r\n  tableData: [],\r\n  groupOpenAll: !localStorage.groupOpenAll ? false : JSON.parse(localStorage.groupOpenAll),\r\n  groupOpen: [],\r\n  spreadsheet: {\r\n    link: '',\r\n    isLoading: false,\r\n    error: '',\r\n    data: []\r\n  },\r\n  market: {\r\n    isLoading: false,\r\n    error: '',\r\n    data: [],\r\n    priceBtc: 0,\r\n    priceUsdt: 0,\r\n  }\r\n};\r\n\r\nexport const reducer = (state = initialState, action) => {\r\n  // console.log('action ', action);\r\n\r\n  switch (action.type) {\r\n\r\n    case C.SET_SPREADSHEET_LINK:\r\n      return {\r\n        ...state,\r\n        spreadsheet: {\r\n          ...state.spreadsheet,\r\n          link: action.link\r\n        }\r\n      };\r\n\r\n      case C.SPREADSHEET_FETCH_SUCCESS:\r\n      return {\r\n        ...state,\r\n        spreadsheet: {\r\n          ...state.spreadsheet,\r\n          data: action.data,\r\n          error: ''\r\n        }\r\n      };\r\n\r\n    case C.SPREADSHEET_LOADING:\r\n      return {\r\n        ...state,\r\n        spreadsheet: {\r\n          ...state.spreadsheet,\r\n          isLoading: action.bool\r\n        }\r\n      };\r\n\r\n    case C.SPREADSHEET_ERROR:\r\n      return {\r\n        ...state,\r\n        spreadsheet: {\r\n          ...state.spreadsheet,\r\n          error: action.msg\r\n        }\r\n      };\r\n\r\n    case C.MARKET_FETCH_SUCCESS:\r\n      return {\r\n        ...state,\r\n        market: {\r\n          ...state.market,\r\n          priceBtc: action.data.filter(item => item.label.match(/.*(?=\\/)/).join().toLowerCase() === 'btc')[0].price,\r\n          priceUsdt: action.data.filter(item => item.label.match(/.*(?=\\/)/).join().toLowerCase() === 'usdt')[0].price,\r\n          data: action.data,\r\n          error: ''\r\n        }\r\n      };\r\n\r\n    case C.MARKET_LOADING:\r\n      return {\r\n        ...state,\r\n        market: {\r\n          ...state.market,\r\n          isLoading: action.bool\r\n        }\r\n      };\r\n\r\n    case C.MARKET_ERROR:\r\n      return {\r\n        ...state,\r\n        market: {\r\n          ...state.market,\r\n          error: action.msg\r\n        }\r\n      };\r\n\r\n    case C.SET_CURRENCY:\r\n      return {\r\n        ...state,\r\n        fiat: action.cur,\r\n        fiatSymbol: (() => {\r\n          switch (action.cur) {\r\n            case 'rur':\r\n              return '₽';\r\n            case 'usdt':\r\n              return '$';\r\n            case 'eur':\r\n              return '€';\r\n            default:\r\n              return '₿';\r\n          }\r\n        })()\r\n      };\r\n\r\n    case C.SET_TABLE_DATA:\r\n      return {\r\n        ...state,\r\n        tableData: action.data\r\n      };\r\n\r\n    case C.SORT_ITEMS:\r\n      return {\r\n        ...state,\r\n        sortBy: state.sortBy === action.sortBy ? state.sortBy : action.sortBy,\r\n        sortDesc: state.sortBy !== action.sortBy ? state.sortDesc : !state.sortDesc\r\n      };\r\n\r\n    case C.GROUP_OPEN_TOGGLE:\r\n      return {\r\n        ...state,\r\n        groupOpen: state.groupOpen.find(id => id === action.id)\r\n                   ? state.groupOpen.filter(item => item !== action.id)\r\n                   : state.groupOpen.concat(action.id)\r\n      };\r\n\r\n    case C.GROUP_OPEN_ALL:\r\n      return {\r\n        ...state,\r\n        groupOpenAll: action.bool,\r\n        groupOpen: action.bool\r\n                   ? state.groupOpen\r\n                   : []\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};","import { createContext } from 'react';\r\n\r\nexport const StoreContext = createContext();","/**\r\n * Compares strings to sort\r\n *\r\n * @param {string} a\r\n * @param {string} b\r\n * @returns {number}\r\n */\r\nexport function sortStr(a, b) {\r\n  if (a.toLowerCase() > b.toLowerCase()) {\r\n    return 1;\r\n  }\r\n  if (a.toLowerCase() < b.toLowerCase()) {\r\n    return -1;\r\n  }\r\n  return 0;\r\n}\r\n\r\n/**\r\n * Compares numbers to sort\r\n *\r\n * @param {number} a\r\n * @param {number} b\r\n * @returns {number}\r\n */\r\nexport function sortNum(a, b) {\r\n  if (a > b) {\r\n    return 1;\r\n  }\r\n  if (a < b) {\r\n    return -1;\r\n  }\r\n  return 0;\r\n}\r\n\r\nexport function decimalFormat(number, decimals = 0, decPoint = ',', thousandsSep = ' ') {\r\n  let s;\r\n\r\n  number = +String(number).replace(/[^0-9+\\-Ee.]/g, '');\r\n\r\n  s = decimals\r\n      ? String(Math.round(number * Math.pow(10, decimals)) / Math.pow(10, decimals)).split('.')\r\n      : String(Math.round(number)).split('.');\r\n\r\n  if (s[0].length > 3) {\r\n    s[0] = s[0].replace(/\\B(?=(?:\\d{3})+(?!\\d))/g, thousandsSep);\r\n  }\r\n\r\n  if (!!s[1] && (s[1].length < decimals)) {\r\n    s[1] += new Array(decimals - s[1].length + 1).join('0');\r\n  }\r\n\r\n  return s.join(decPoint);\r\n}\r\n\r\n/**\r\n * The sum of the numbers\r\n *\r\n * @param {array.<{object}>} arr\r\n * @param {string} key - key with number\r\n * @returns {number}\r\n */\r\nexport function sum(arr, key) {\r\n  return arr.reduce((acc, cur) => {\r\n    if (!isNaN(cur[key])) {\r\n      acc += cur[key];\r\n    }\r\n    return acc;\r\n  }, 0);\r\n}\r\n\r\nexport function lightenDarkenColor(color, percent) {\r\n  let num = parseInt(color.replace('#', ''), 16),\r\n    amt = Math.round(2.55 * percent),\r\n    R = (num >> 16) + amt,\r\n    B = ((num >> 8) & 0x00FF) + amt,\r\n    G = (num & 0x0000FF) + amt;\r\n\r\n  return '#' + (0x1000000 + (R < 255 ? R < 1 ? 0 : R : 255) * 0x10000 + (B < 255 ? B < 1 ? 0 : B : 255) * 0x100 + (G < 255 ? G < 1 ? 0 : G : 255)).toString(16).slice(1);\r\n}","import React, { useContext } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { StoreContext } from '../../context';\r\nimport { sortItems } from '../../context/actions';\r\nimport Box from '@material-ui/core/Box';\r\nimport ArrowRightAltIcon from '@material-ui/icons/ArrowRightAlt';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nconst head = [\r\n  {id: 'title', title: 'Coin'},\r\n  {id: 'quantity', title: 'Quantity'},\r\n  {id: 'buyPrice', title: 'Buy Price'},\r\n  {id: 'price', title: 'Current Price'},\r\n  {id: 'profit', title: 'Profit'},\r\n  {id: 'gain', title: 'Gain'},\r\n  {id: 'val', title: 'Value'},\r\n  {id: 'wallet', title: 'Wallet'},\r\n];\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    borderBottom: '1px solid #ccc',\r\n    alignSelf: 'start',\r\n    width: '100%',\r\n  },\r\n  col: {\r\n    flexShrink: 0,\r\n    padding: '3px 10px',\r\n    textAlign: 'right',\r\n    justifyContent: 'flex-end',\r\n    borderRadius: 0,\r\n    textTransform: 'none',\r\n    '&:hover': {\r\n      backgroundColor: '#ebebeb'\r\n    }\r\n  },\r\n  sort: {\r\n    verticalAlign: 'middle'\r\n  },\r\n  arrow: {\r\n    marginBottom: '-5px'\r\n  },\r\n  arrowTop: {\r\n    transform: 'rotate(-90deg)'\r\n  },\r\n  arrowBottom: {\r\n    transform: 'rotate(90deg)'\r\n  },\r\n  col1: {\r\n    justifyContent: 'flex-start'\r\n  },\r\n  col8: {\r\n    justifyContent: 'flex-start',\r\n    flexGrow: 1\r\n  },\r\n});\r\n\r\nexport default function TableHeader(props) {\r\n  const {state, dispatch} = useContext(StoreContext);\r\n  const {colWidth} = props;\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Box display=\"flex\" className={ classes.root }>\r\n      { head.map((item, idx) => (\r\n        <Button\r\n          component=\"div\"\r\n          style={ {width: colWidth[Object.keys(colWidth)[idx]], backgroundColor: state.sortBy === item.id ? '#dbdbdb' : ''} }\r\n          key={ item.title }\r\n          onClick={ () => dispatch(sortItems(item.id)) }\r\n          className={ classes[`col${ ++idx }`] ? `${ classes.col } ${ classes[`col${ idx }`] }` : classes.col }\r\n          children={\r\n            <>\r\n              { item.title }\r\n              {\r\n                state.sortBy === item.id\r\n                && <span className={ classes.sort }>\r\n                {\r\n                  state.sortDesc\r\n                  ? <ArrowRightAltIcon\r\n                    fontSize=\"small\"\r\n                    className={ `${ classes.arrow } ${ classes.arrowTop }` }\r\n                  />\r\n                  : <ArrowRightAltIcon\r\n                    fontSize=\"small\"\r\n                    className={ `${ classes.arrow } ${ classes.arrowBottom }` }\r\n                  />\r\n                }\r\n                </span>\r\n              }\r\n            </>\r\n          }\r\n        />\r\n      )) }\r\n    </Box>\r\n  );\r\n}\r\n\r\nTableHeader.propTypes = {\r\n  colWidth: PropTypes.object\r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Box from '@material-ui/core/Box';\r\nimport Popper from '@material-ui/core/Popper';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    lineHeight: '1rem',\r\n    paddingRight: 2.5\r\n  },\r\n  icon: {\r\n    fontSize: '1.2rem',\r\n    color: '#ccc',\r\n    transition: 'color .12s',\r\n    '&:hover': {\r\n      color: '#999'\r\n    }\r\n  },\r\n  popover: {\r\n    pointerEvents: 'none',\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(1),\r\n  },\r\n}));\r\n\r\nexport default function TablePopover(props) {\r\n  const classes = useStyles();\r\n  const {buyFee, sellFee} = props;\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n\r\n  const handleOpen = e => {\r\n    setAnchorEl(anchorEl ? null : e.currentTarget);\r\n  };\r\n\r\n  const handleClickAway = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  return (\r\n    <>\r\n        <Box\r\n          className={classes.root}\r\n          onMouseEnter={handleOpen}\r\n          onMouseLeave={handleClickAway}\r\n        >\r\n          <MoreVertIcon className={classes.icon} />\r\n        </Box>\r\n      <div>\r\n        <Popper\r\n          open={ !!anchorEl }\r\n          anchorEl={ anchorEl }\r\n          transition\r\n          placement=\"right-end\"\r\n        >\r\n          { ({TransitionProps}) => (\r\n            <Fade { ...TransitionProps } timeout={ 150 }>\r\n              <Paper elevation={8}>\r\n                <Box p={1}>\r\n                  <div>{`Buy fee: ${!buyFee ? 'N/A' : `${buyFee}%`}`}</div>\r\n                 <div>{`Sell fee: ${!sellFee ? 'N/A' : `${sellFee}%`}`}</div>\r\n                 </Box>\r\n              </Paper>\r\n            </Fade>\r\n          ) }\r\n        </Popper>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nTablePopover.propTypes = {\r\n  buyFee: PropTypes.number,\r\n  sellFee: PropTypes.number\r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Box from '@material-ui/core/Box';\r\nimport TablePopover from '../TablePopover/TablePopover';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport ErrorOutlineIcon from '@material-ui/icons/ErrorOutline';\r\nimport { decimalFormat } from '../../utils';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  col: {\r\n    padding: '3px 10px',\r\n    flexShrink: 0\r\n  },\r\n  typo: {\r\n    fontSize: theme.typography.fontSize\r\n  },\r\n  load: {\r\n    transition: theme.transitions.create(['opacity']),\r\n    opacity: 1\r\n  },\r\n  loadActive: {\r\n    opacity: .18\r\n  },\r\n  preloader: {\r\n    top: 0,\r\n    right: -10,\r\n    position: 'absolute',\r\n    bottom: 0,\r\n    marginTop: 5,\r\n    overflow: 'hidden',\r\n  },\r\n  progress: {\r\n    color: '#ccc',\r\n    animationDuration: '.8s'\r\n  },\r\n  error: {\r\n    right: -9,\r\n    position: 'absolute',\r\n    fontSize: '14px',\r\n    top: 0,\r\n    bottom: 0,\r\n    margin: 'auto',\r\n    color: 'red',\r\n    zIndex: 1\r\n  }\r\n}));\r\n\r\nconst LightTooltip = withStyles(theme => ({\r\n  tooltip: {\r\n    backgroundColor: theme.palette.common.white,\r\n    color: 'rgba(0, 0, 0, 0.87)',\r\n    boxShadow: theme.shadows[2],\r\n    fontSize: theme.typography.fontSize,\r\n    fontWeight: theme.typography.fontWeightRegular\r\n  },\r\n}))(Tooltip);\r\n\r\nexport default function TableRow(props) {\r\n  const {title, label, buyPrice, price, quantity, buyFee, sellFee, wallet, profit, gain, val} = props.data;\r\n  const {isLoading, errorText, fiat, fiatSymbol, colWidth, group} = props;\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <>\r\n      <Box fontWeight={ group ? 'fontWeightMedium' : 'fontWeightRegular' } className={ classes.col }\r\n           style={ {width: colWidth.col1} }>\r\n        <LightTooltip\r\n          placement=\"right\"\r\n          title={label}\r\n        >\r\n          <span>{ title }</span>\r\n        </LightTooltip>\r\n      </Box>\r\n\r\n      <Box\r\n        className={ classes.col }\r\n        style={ {width: colWidth.col2, textAlign: 'right'} }>\r\n        { quantity === 0 ? 0 : quantity.toFixed(8) }\r\n      </Box>\r\n\r\n      <Box\r\n        className={ classes.col }\r\n        style={ {\r\n          width: colWidth.col3,\r\n          textAlign: 'right'\r\n        } }>\r\n        {\r\n          !Number.isNaN(buyPrice)\r\n          ? fiat === 'btc'\r\n            ? `${ buyPrice.toFixed(8) } ₿`\r\n            : `${ decimalFormat(buyPrice, 2) } ${ fiatSymbol }`\r\n          : 'N/A'\r\n        }\r\n      </Box>\r\n\r\n      <Box\r\n        className={ classes.col }\r\n        style={ {\r\n          position: 'relative',\r\n          width: colWidth.col4,\r\n          textAlign: 'right'\r\n        } }>\r\n\r\n        { errorText\r\n        && <Tooltip title={ errorText } placement=\"right-end\">\r\n          <ErrorOutlineIcon className={ classes.error } />\r\n        </Tooltip> }\r\n\r\n        { isLoading\r\n        && <Box className={ classes.preloader }>\r\n          <CircularProgress className={ classes.progress } size={ 16 } disableShrink thickness={ 5 } />\r\n        </Box> }\r\n\r\n        <Box className={ `${ classes.load } ${ isLoading ? classes.loadActive : null }` }>\r\n          {\r\n            !Number.isNaN(price)\r\n            ? fiat === 'btc'\r\n              ? `${ price.toFixed(8) } ₿`\r\n              : `${ decimalFormat(price, 2) } ${ fiatSymbol }`\r\n            : 'N/A'\r\n          }\r\n        </Box>\r\n\r\n      </Box>\r\n\r\n      <Box\r\n        color={ Number.isNaN(profit) ? 'text.primary' : profit < 0 ? 'red' : 'green' }\r\n        className={ classes.col }\r\n        style={ {\r\n          width: colWidth.col5,\r\n          textAlign: 'right'\r\n        } }>\r\n\r\n        {\r\n          !Number.isNaN(profit)\r\n          ? fiat === 'btc'\r\n            ? `${ profit.toFixed(8) } ₿`\r\n            : `${ decimalFormat(profit, 2) } ${ fiatSymbol }`\r\n          : 'N/A'\r\n        }\r\n      </Box>\r\n\r\n      <Box\r\n        color={ Number.isNaN(gain) ? 'text.primary' : gain < 0 ? 'red' : 'green' }\r\n        className={ classes.col }\r\n        style={ {width: colWidth.col6, textAlign: 'right'} }\r\n      >\r\n        {\r\n          !Number.isNaN(gain)\r\n          ? `${ gain.toFixed(2) }%`\r\n          : 'N/A'\r\n        }\r\n      </Box>\r\n\r\n      <Box\r\n        className={ classes.col }\r\n        style={ {\r\n          width: colWidth.col7,\r\n          textAlign: 'right'\r\n        } }>\r\n        {\r\n          !Number.isNaN(val)\r\n          ? fiat === 'btc'\r\n            ? `${ val.toFixed(8) } ₿`\r\n            : `${ decimalFormat(val, 2) } ${ fiatSymbol }`\r\n          : 'N/A'\r\n        }\r\n      </Box>\r\n\r\n      <Box className={ classes.col } style={ {width: colWidth.col8, flexGrow: 1} }>\r\n        <Typography\r\n          component=\"div\"\r\n          noWrap\r\n          className={ classes.typo }\r\n        >\r\n          { wallet }\r\n        </Typography>\r\n\r\n      </Box>\r\n\r\n      { !group && <TablePopover buyFee={ buyFee } sellFee={ sellFee } /> }\r\n    </>\r\n  );\r\n}\r\n\r\nTableRow.propTypes = {\r\n  isLoading: PropTypes.bool,\r\n  errorText: PropTypes.string,\r\n  fiat: PropTypes.string.isRequired,\r\n  fiatSymbol: PropTypes.string.isRequired,\r\n  colWidth: PropTypes.object,\r\n  group: PropTypes.bool\r\n};","import React, { useContext, useEffect } from 'react';\r\nimport { StoreContext } from '../../context';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport ExpandLess from '@material-ui/icons/ExpandLess';\r\nimport ExpandMore from '@material-ui/icons/ExpandMore';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport TableHeader from '../TableHeader';\r\nimport TableRow from '../TableRow';\r\nimport { groupOpenToggle } from '../../context/actions';\r\nimport Box from '@material-ui/core/Box';\r\n\r\nconst colWidth = {\r\n  col1: 85,\r\n  col2: 145,\r\n  col3: 130,\r\n  col4: 130,\r\n  col5: 130,\r\n  col6: 100,\r\n  col7: 130,\r\n  col8: 130,\r\n  col9: 50\r\n};\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  wrap: {\r\n    display: 'flex',\r\n    overflow: 'auto',\r\n    border: '1px solid #ccc',\r\n  },\r\n  root: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    flexGrow: 1,\r\n    minHeight: 59.5\r\n  },\r\n  initRow: {\r\n    borderTop: '1px solid #eee',\r\n    padding: 0,\r\n    overflow: 'hidden',\r\n    justifyContent: 'center'\r\n  },\r\n  row: {\r\n    borderTop: '1px solid #eee',\r\n    padding: 0,\r\n    '&:hover': {\r\n      backgroundColor: '#fafafa',\r\n    },\r\n  },\r\n  toggle: {\r\n    borderTop: '1px solid #eee',\r\n    cursor: 'pointer',\r\n    padding: 0,\r\n    transition: 'background-color 0.12s',\r\n    '&:hover': {\r\n      backgroundColor: '#ebebeb',\r\n    },\r\n  },\r\n  toggleActive: {\r\n    backgroundColor: '#dbdbdb',\r\n    '&:hover': {\r\n      backgroundColor: '#dbdbdb',\r\n    },\r\n  },\r\n  nested: {\r\n    backgroundColor: '#f5f5f5',\r\n    borderTop: '1px solid #eee',\r\n    padding: 0,\r\n    '&:hover': {\r\n      backgroundColor: '#f0f0f0',\r\n    },\r\n  },\r\n  collapse: {\r\n    width: '100%'\r\n  },\r\n  progress: {\r\n    margin: theme.spacing(2),\r\n    color: '#ccc'\r\n  },\r\n}));\r\n\r\nexport default function Table() {\r\n  const {state, dispatch} = useContext(StoreContext);\r\n  const classes = useStyles();\r\n\r\n  const Row = (item, group) => {\r\n    return (\r\n      <TableRow\r\n        data={ item }\r\n        fiat={ state.fiat }\r\n        fiatSymbol={ state.fiatSymbol }\r\n        isLoading={ state.market.isLoading }\r\n        errorText={ state.market.error }\r\n        colWidth={ colWidth }\r\n        group={ group }\r\n      />\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (state.groupOpenAll) {\r\n      dispatch(groupOpenToggle(\r\n        state.tableData\r\n          .filter(item => item.group ? item.title : null)\r\n          .map(i => i.title)\r\n      ));\r\n    } else {\r\n      dispatch(groupOpenToggle([]));\r\n    }\r\n  }, [state.groupOpenAll, dispatch, state.tableData]);\r\n\r\n  return (\r\n    <>\r\n      <Box className={ classes.wrap }>\r\n        <List component=\"div\" className={ classes.root } disablePadding>\r\n\r\n          <TableHeader colWidth={ colWidth } />\r\n\r\n          { state.spreadsheet.isLoading\r\n            ? <ListItem\r\n              component=\"div\"\r\n              key=\"init\"\r\n              className={ classes.initRow }\r\n            >\r\n              <CircularProgress\r\n                className={ classes.progress }\r\n                size={ 30 }\r\n              />\r\n            </ListItem>\r\n            : state.spreadsheet.error\r\n              ? <Box m={ 1 } color=\"red\">{ state.spreadsheet.error }</Box>\r\n              : state.tableData.map(item => (\r\n                !item.group\r\n                ? <ListItem\r\n                  component=\"div\"\r\n                  key={ item.title }\r\n                  className={ classes.row }\r\n                >\r\n                  { Row(item) }\r\n                </ListItem>\r\n                : <React.Fragment key={ item.title }>\r\n                  <ListItem\r\n                    component=\"div\"\r\n                    className={\r\n                      !state.groupOpen.find(title => title === item.title)\r\n                      ? classes.toggle\r\n                      : `${ classes.toggle } ${ classes.toggleActive }`\r\n                    }\r\n                    onClick={ () => dispatch(groupOpenToggle(item.title)) }\r\n                  >\r\n                    { Row(item, true) }\r\n                    { !!state.groupOpen.find(title => title === item.title) ? <ExpandLess /> : <ExpandMore /> }\r\n                  </ListItem>\r\n\r\n                  <Collapse\r\n                    in={ !!state.groupOpen.find(title => title === item.title) }\r\n                    timeout=\"auto\"\r\n                    unmountOnExit\r\n                    className={ classes.collapse }\r\n                  >\r\n                    <List component=\"div\" disablePadding>\r\n                      { item.group.map((i, idx) => (\r\n                          <ListItem\r\n                            component=\"div\"\r\n                            className={ classes.nested }\r\n                            key={ `${ item.title }_${ idx }` }\r\n                          >\r\n                            { Row(i) }\r\n                          </ListItem>\r\n                        )\r\n                      ) }\r\n                    </List>\r\n                  </Collapse>\r\n                </React.Fragment>\r\n              )) }\r\n\r\n        </List>\r\n      </Box>\r\n    </>\r\n  );\r\n}","import React from 'react';\r\nimport { default as SwitchUI } from '@material-ui/core/Switch';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\n\r\nexport default function Switch(props) {\r\n  const {label, checked, handleChange} = props;\r\n\r\n  return (\r\n    <FormControlLabel\r\n      control={ <SwitchUI\r\n        color=\"default\"\r\n        checked={ checked }\r\n        onChange={ handleChange() }\r\n        inputProps={ {'aria-label': 'secondary checkbox'} }\r\n      /> }\r\n      label={label}\r\n      labelPlacement=\"end\"\r\n    />\r\n  );\r\n}","import React, { useContext, useEffect, useCallback } from 'react';\r\nimport axios from 'axios';\r\nimport { StoreContext } from '../../context';\r\nimport { sortStr } from '../../utils';\r\nimport Table from '../Table';\r\nimport {\r\n  spreadsheetFetchSuccess,\r\n  spreadsheetLoading,\r\n  spreadsheetError,\r\n  marketFetchSuccess,\r\n  marketLoading,\r\n  marketError,\r\n  setTableData,\r\n  groupOpenAll\r\n} from '../../context/actions';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Switch from '../Switch/Switch';\r\n\r\nexport const DEMO_SPREADSHEET = '1paG7wL-ZRiAHvU6QcvtISVX2ROP8NTcvslQETh8ZdRQ';\r\nconst DEMO_KEY = 'DX8Js7mGTjkscOevUm0IpubG0nMWuO';\r\n\r\nexport default function TableContainer() {\r\n  const {state, dispatch} = useContext(StoreContext);\r\n\r\n  const handleGroupToggle = () => () => {\r\n    dispatch(groupOpenAll(!state.groupOpenAll));\r\n    localStorage.groupOpenAll = !state.groupOpenAll;\r\n  };\r\n\r\n  const getSpreadsheetData = useCallback((link) => {\r\n    const schemaSpreadsheet = data => data.map(item => ({\r\n      title: item.gsx$title.$t.toUpperCase(),\r\n      buyPrice: parseFloat(item.gsx$price.$t.replace(',', '.')),\r\n      quantity: parseFloat(item.gsx$quantity.$t.replace(/\\s+/g, '').replace(',', '.')),\r\n      buyFee: parseFloat(item.gsx$buyfee.$t.replace(',', '.')),\r\n      sellFee: parseFloat(item.gsx$sellfee.$t.replace(',', '.')),\r\n      wallet: item.gsx$wallet.$t\r\n    }));\r\n\r\n    (async () => {\r\n      dispatch(spreadsheetLoading(true));\r\n\r\n      try {\r\n        const response = await axios.get(`https://spreadsheets.google.com/feeds/list/${ link }/od6/public/values?alt=json`);\r\n        const spreadsheetData = schemaSpreadsheet(response.data.feed.entry);\r\n\r\n        dispatch(spreadsheetFetchSuccess(spreadsheetData));\r\n\r\n        if (link !== DEMO_SPREADSHEET) localStorage.spreadSheetLink = link;\r\n      } catch (err) {\r\n        dispatch(spreadsheetError(err.message));\r\n        console.error(err.message);\r\n      }\r\n\r\n      dispatch(spreadsheetLoading(false));\r\n    })();\r\n  }, [dispatch]);\r\n\r\n  const getMarketData = useCallback((currency, coins = []) => {\r\n    const fiat = currency === 'btc' ? 'usdt' : currency;\r\n    const coinListWODouble = coins.reduce((acc, cur) => {\r\n      if (!acc.includes(cur)) {\r\n        acc.push(cur);\r\n      }\r\n      return acc;\r\n    }, []);\r\n\r\n    const coinList = coinListWODouble.reduce((acc, cur) => {\r\n      if (cur.toLowerCase() !== 'btc' && cur.toLowerCase() !== 'usdt') {\r\n        acc += `-${ cur.toLowerCase() }btc`;\r\n      }\r\n      return acc;\r\n    }, 'btcbtc-usdtbtc');\r\n\r\n    const schemaMarket = data => data.map(item => ({\r\n      title: item.Name,\r\n      label: item.Label,\r\n      price: item.Price,\r\n      timestamp: item.Timestamp\r\n    }));\r\n\r\n    (async () => {\r\n      dispatch(marketLoading(true));\r\n\r\n      try {\r\n        const response = await axios.get(`https://www.worldcoinindex.com/apiservice/ticker?key=${ DEMO_KEY }&label=${ coinList }&fiat=${ fiat }`);\r\n\r\n        if (!!response.data.Markets) {\r\n          const dataWODeadCoins = response.data.Markets.filter(item => item.Name !== 'Harvestmasternode');\r\n\r\n          dispatch(marketFetchSuccess(schemaMarket(dataWODeadCoins)));\r\n        } else {\r\n          dispatch(marketFetchSuccess(\r\n            coinList.split('-').map(item => (\r\n              {\r\n                title: '',\r\n                label: item.replace(/(btc)$/, '/$1').toUpperCase(),\r\n                price: 0\r\n              }\r\n            ))\r\n          ));\r\n\r\n          dispatch(marketError(response.data.error));\r\n        }\r\n      } catch (err) {\r\n        dispatch(marketError(err));\r\n        console.error(err);\r\n      }\r\n\r\n      dispatch(marketLoading(false));\r\n    })();\r\n  }, [dispatch]);\r\n\r\n  const compileTableData = useCallback((spreadsheet, market) => {\r\n    const rawData = spreadsheet.map(item => {\r\n      const coinPriceData = market.filter(i => i.label.match(/.*(?=\\/)/).join().toLowerCase() === item.title.toLowerCase()).length\r\n                            ? market.filter(i => i.label.match(/.*(?=\\/)/).join().toLowerCase() === item.title.toLowerCase())[0]\r\n                            : 0;\r\n\r\n      return {\r\n        ...item,\r\n        price: coinPriceData.price,\r\n        label: coinPriceData.title\r\n      };\r\n    });\r\n\r\n    const rawDataExtended = rawData.map(item => {\r\n      const calcProfit = (priceSell, priceBuy, quantity, buyFee, sellFee) => {\r\n        return (priceSell * quantity - priceSell * quantity / 100 * sellFee) - (priceBuy * quantity + priceBuy * quantity / 100 * buyFee);\r\n      };\r\n\r\n      const calcGain = (priceSell, priceBuy, quantity, buyFee, sellFee) => {\r\n        return (calcProfit(priceSell, priceBuy, quantity, buyFee, sellFee)) * 100 / (priceSell * quantity);\r\n      };\r\n\r\n      return {\r\n        ...item,\r\n        quantity: item.quantity || 0,\r\n        buyPrice: state.fiat === 'btc'\r\n                  ? item.title.toLowerCase() === 'btc'\r\n                    ? !!state.market.priceBtc ? item.buyPrice / state.market.priceBtc : 1\r\n                    : item.buyPrice\r\n                  : item.title.toLowerCase() === 'btc'\r\n                    ? !!state.market.priceBtc ? item.buyPrice * state.market.priceUsdt : NaN\r\n                    : !!state.market.priceBtc ? item.buyPrice * state.market.priceBtc : NaN,\r\n        price: state.fiat === 'btc'\r\n               ? !!state.market.priceBtc ? item.price / state.market.priceBtc : NaN\r\n               : !!state.market.priceBtc ? item.price : NaN,\r\n        profit: state.market.priceBtc\r\n                ? state.fiat === 'btc'\r\n                  ? item.title.toLowerCase() === 'btc'\r\n                    ? calcProfit(item.price / state.market.priceBtc, item.buyPrice / state.market.priceBtc, item.quantity, item.buyFee, item.sellFee)\r\n                    : calcProfit(item.price / state.market.priceBtc, item.buyPrice, item.quantity, item.buyFee, item.sellFee)\r\n                  : item.title.toLowerCase() === 'btc'\r\n                    ? calcProfit(item.price, item.buyPrice * state.market.priceUsdt, item.quantity, item.buyFee, item.sellFee)\r\n                    : calcProfit(item.price, item.buyPrice * state.market.priceBtc, item.quantity, item.buyFee, item.sellFee)\r\n                : NaN,\r\n        gain: state.fiat === 'btc'\r\n              ? item.title.toLowerCase() === 'btc'\r\n                ? calcGain(item.price / state.market.priceBtc, item.buyPrice / state.market.priceBtc, item.quantity, item.buyFee, item.sellFee)\r\n                : calcGain(item.price / state.market.priceBtc, item.buyPrice, item.quantity, item.buyFee, item.sellFee)\r\n              : item.title.toLowerCase() === 'btc'\r\n                ? calcGain(item.price, item.buyPrice * state.market.priceUsdt, item.quantity, item.buyFee, item.sellFee)\r\n                : calcGain(item.price, item.buyPrice * state.market.priceBtc, item.quantity, item.buyFee, item.sellFee),\r\n        val: state.market.priceBtc\r\n             ? state.fiat === 'btc'\r\n               ? item.price / state.market.priceBtc * item.quantity\r\n               : item.price * item.quantity\r\n             : NaN\r\n      };\r\n    });\r\n\r\n    const currencyListWCount = rawDataExtended.reduce((acc, cur) => {\r\n      if (!acc[cur.title]) {\r\n        acc[cur.title] = 1;\r\n      } else {\r\n        acc[cur.title]++;\r\n      }\r\n      return acc;\r\n    }, {});\r\n\r\n    let tableArr = [];\r\n\r\n    const sortTableRows = (arr = [], sortBy, reverse) => {\r\n      const sortedArr = arr.sort((a, b) => {\r\n        if (typeof a[sortBy] === 'string' && typeof b[sortBy] === 'string') {\r\n          return sortStr(a[sortBy], b[sortBy]);\r\n        }\r\n        if (typeof a[sortBy] === 'number' && typeof b[sortBy] === 'number') {\r\n          return a[sortBy] - b[sortBy];\r\n        }\r\n        return console.error(`Not valid format data ${ a } or ${ b } for sortTableRows!`);\r\n      });\r\n      return reverse ? sortedArr.reverse() : sortedArr;\r\n    };\r\n\r\n    for (let key in currencyListWCount) {\r\n      if (currencyListWCount.hasOwnProperty(key)) {\r\n        if (currencyListWCount[key] > 1) {\r\n          let groupArr = [];\r\n          let groupLabel = '';\r\n          let sum = {\r\n            quantity: 0,\r\n            buyPrice: 0,\r\n            val: 0,\r\n            profit: 0,\r\n            gain: 0\r\n          };\r\n\r\n          rawDataExtended.forEach(item => {\r\n            if (item.title === key) {\r\n              groupLabel = item.label;\r\n              groupArr.push(item);\r\n              sum.buyPrice += (item.buyPrice || 0) * item.quantity;\r\n              sum.quantity += item.quantity;\r\n              sum.profit += item.profit || 0;\r\n              sum.gain += item.gain * item.quantity || 0;\r\n              sum.val += item.val || 0;\r\n              sum.feeBuy += item.feeBuy || 0;\r\n              sum.feeSell += item.feeSell || 0;\r\n            }\r\n          });\r\n\r\n          let walletList = groupArr.reduce((acc, curr) => {\r\n            if (!acc.includes(curr.wallet) && curr.wallet) {\r\n              acc.push(curr.wallet);\r\n            }\r\n            return acc;\r\n          }, []);\r\n\r\n          if (state.sortBy === 'wallet') {\r\n            walletList.sort((a, b) => {\r\n              return sortStr(a, b);\r\n            });\r\n\r\n            if (state.sortDesc) walletList.reverse();\r\n          }\r\n\r\n          tableArr.push({\r\n            title: key,\r\n            label: groupLabel,\r\n            buyPrice: sum.buyPrice / sum.quantity,\r\n            quantity: sum.quantity,\r\n            val: sum.val,\r\n            price: !!state.market.priceBtc\r\n                   ? state.fiat === 'btc'\r\n                     ? market.filter(i => i.label.match(/.*(?=\\/)/).join().toLowerCase() === key.toLowerCase())[0].price / state.market.priceBtc\r\n                     : market.filter(i => i.label.match(/.*(?=\\/)/).join().toLowerCase() === key.toLowerCase())[0].price\r\n                   : NaN,\r\n            profit: sum.profit,\r\n            gain: sum.profit * 100 / sum.val,\r\n            wallet: walletList.join(', '),\r\n            group: sortTableRows(groupArr, state.sortBy, state.sortDesc)\r\n          });\r\n        } else {\r\n          rawDataExtended.forEach(item => {\r\n            if (item.title === key) {\r\n              tableArr.push(item);\r\n            }\r\n          });\r\n        }\r\n      }\r\n    }\r\n\r\n    dispatch(setTableData(sortTableRows(tableArr, state.sortBy, state.sortDesc)));\r\n  }, [\r\n    dispatch,\r\n    state.sortBy,\r\n    state.sortDesc,\r\n    state.fiat,\r\n    state.market\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    if (!state.spreadsheet.link) {\r\n      if (!localStorage.spreadSheetLink) {\r\n        getSpreadsheetData(DEMO_SPREADSHEET);\r\n      } else {\r\n        getSpreadsheetData(localStorage.spreadSheetLink);\r\n      }\r\n    } else {\r\n      getSpreadsheetData(state.spreadsheet.link);\r\n    }\r\n  }, [state.spreadsheet.link, getSpreadsheetData]);\r\n\r\n  useEffect(() => {\r\n    if (state.spreadsheet.data.length) {\r\n      const coinsFromSpreadsheet = state.spreadsheet.data.map(item => item.title);\r\n      getMarketData(state.fiat, coinsFromSpreadsheet);\r\n    }\r\n  }, [\r\n    state.spreadsheet.data.length,\r\n    state.spreadsheet.data,\r\n    getMarketData,\r\n    state.fiat\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    if (state.spreadsheet.data.length && state.market.data.length) {\r\n      const ssList = [ ...new Set([...state.spreadsheet.data.map(item => item.title), 'USDT', 'BTC'])];\r\n      const mList = state.market.data.reduce((acc, cur) => {\r\n        if (!acc.includes(cur.label.match(/.*(?=\\/)/).join())) {\r\n          acc.push(cur.label.match(/.*(?=\\/)/).join());\r\n        }\r\n        return acc;\r\n      }, ['USDT', 'BTC']);\r\n\r\n      if (mList.length === ssList.length) {\r\n        compileTableData(state.spreadsheet.data, state.market.data);\r\n      } else {\r\n        console.error(`mList {${mList.length}} !== ssList {${ssList.length}}`)\r\n      }\r\n    }\r\n  }, [\r\n    state.spreadsheet.data,\r\n    state.market.data,\r\n    compileTableData,\r\n    state.spreadsheet.data.length,\r\n    state.market.data.length\r\n  ]);\r\n\r\n  return (\r\n    <>\r\n      <Grid container alignItems=\"flex-end\">\r\n        <Grid item xs=\"auto\">\r\n          <Switch\r\n            checked={state.groupOpenAll}\r\n            label=\"Expand all\"\r\n            handleChange={handleGroupToggle}\r\n          />\r\n        </Grid>\r\n      </Grid>\r\n      <Grid item xs={12}>\r\n        <Table />\r\n      </Grid>\r\n    </>\r\n  );\r\n}","import React, { memo, useCallback, useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  PieChart as PC, Pie, Sector, Cell,\r\n} from 'recharts';\r\nimport { decimalFormat, lightenDarkenColor } from '../../utils';\r\n\r\nconst setColors = (count) => {\r\n  const mainColors = [\r\n    '#eeeeee'\r\n  ];\r\n  const grade = count;\r\n  let colors = [];\r\n\r\n  for (let i = 0; i < mainColors.length; i++) {\r\n    let num = 0;\r\n    for (let j = 0; j < grade; j++) {\r\n      colors.push(lightenDarkenColor(mainColors[i], num));\r\n      num -= 30 / count;\r\n    }\r\n  }\r\n\r\n  return colors.reverse();\r\n};\r\n\r\nconst renderActiveShape = (props) => {\r\n  const RADIAN = Math.PI / 180;\r\n  const {cx, cy, midAngle, innerRadius, outerRadius, startAngle, endAngle, fill, payload, percent, name} = props;\r\n  const sin = Math.sin(-RADIAN * midAngle);\r\n  const cos = Math.cos(-RADIAN * midAngle);\r\n  const sx = cx + (outerRadius + 10) * cos;\r\n  const sy = cy + (outerRadius + 10) * sin;\r\n  const mx = cx + (outerRadius + 30) * cos;\r\n  const my = cy + (outerRadius + 30) * sin;\r\n  const ex = mx + (cos >= 0 ? 1 : -1) * 22;\r\n  const ey = my;\r\n  const textAnchor = cos >= 0 ? 'start' : 'end';\r\n\r\n  return (\r\n    <g>\r\n      <text\r\n        x={ cx }\r\n        y={ cy + 20 }\r\n        dy={ 8 }\r\n        textAnchor=\"middle\"\r\n        fill=\"#999\"\r\n      >\r\n        { `${ payload.fiat === 'btc'\r\n              ? payload.value.toFixed(8)\r\n              : decimalFormat(payload.value, 2) } ${ payload.fiatSymbol }` }\r\n      </text>\r\n      <Sector\r\n        cx={ cx }\r\n        cy={ cy }\r\n        innerRadius={ innerRadius }\r\n        outerRadius={ outerRadius }\r\n        startAngle={ startAngle }\r\n        endAngle={ endAngle }\r\n        fill={ fill }\r\n      />\r\n      <Sector\r\n        cx={ cx }\r\n        cy={ cy }\r\n        startAngle={ startAngle }\r\n        endAngle={ endAngle }\r\n        innerRadius={ outerRadius + 4 }\r\n        outerRadius={ outerRadius + 6 }\r\n        fill={ fill }\r\n      />\r\n      <path d={ `M${ sx },${ sy }L${ mx },${ my }L${ ex },${ ey }` } stroke={ fill } fill=\"none\" />\r\n      <circle cx={ ex } cy={ ey } r={ 2 } fill={ fill } stroke=\"none\" />\r\n      <text x={ ex + (cos >= 0 ? 1 : -1) * 12 } y={ ey } textAnchor={ textAnchor } fill=\"#333\">{ name }</text>\r\n      <text x={ ex + (cos >= 0 ? 1 : -1) * 12 } y={ ey } dy={ 18 } textAnchor={ textAnchor } fill=\"#999\">\r\n        { `(${ (percent * 100).toFixed(2) }%)` }\r\n      </text>\r\n    </g>\r\n  );\r\n};\r\n\r\nconst renderActiveShapeCompact = (props) => {\r\n  const {cx, cy, innerRadius, outerRadius, startAngle, endAngle, fill, payload, percent, name} = props;\r\n\r\n  return (\r\n    <g>\r\n      <text\r\n        x={ cx }\r\n        y={ cy }\r\n        dy={ 8 }\r\n        textAnchor=\"middle\"\r\n        fill=\"#777\"\r\n        fontSize=\"1.25rem\"\r\n        fontWeight=\"500\"\r\n      >\r\n        { `${ name } (${ (percent * 100).toFixed(2) }%)` }\r\n      </text>\r\n      <text\r\n        x={ cx }\r\n        y={ cy + 20 }\r\n        dy={ 8 }\r\n        textAnchor=\"middle\"\r\n        fill=\"#999\"\r\n      >\r\n        { `${ payload.fiat === 'btc'\r\n              ? payload.value.toFixed(8)\r\n              : decimalFormat(payload.value, 2) } ${ payload.fiatSymbol }` }\r\n      </text>\r\n      <Sector\r\n        cx={ cx }\r\n        cy={ cy }\r\n        innerRadius={ innerRadius }\r\n        outerRadius={ outerRadius }\r\n        startAngle={ startAngle }\r\n        endAngle={ endAngle }\r\n        fill={ fill }\r\n      />\r\n      <Sector\r\n        cx={ cx }\r\n        cy={ cy }\r\n        startAngle={ startAngle }\r\n        endAngle={ endAngle }\r\n        innerRadius={ outerRadius + 4 }\r\n        outerRadius={ outerRadius + 6 }\r\n        fill={ fill }\r\n      />\r\n    </g>\r\n  );\r\n};\r\n\r\nlet data = [];\r\nlet colors = [];\r\n\r\nconst ActiveShapePieChart = memo(props => {\r\n  const [activeIndex, setActiveIndex] = useState(0);\r\n  const {width, height, outer, compact} = props;\r\n\r\n  const onMouseEnter = useCallback((data, index) => {\r\n    setActiveIndex(index);\r\n  }, []);\r\n\r\n  return (\r\n    <PC width={ width } height={ height } style={ {margin: 'auto'} }>\r\n      <Pie\r\n        data={ data }\r\n        outerRadius={ outer / 2 }\r\n        innerRadius={ outer * 0.865 / 2 }\r\n        fill=\"#8884d8\"\r\n        dataKey=\"value\"\r\n        paddingAngle={ 1 }\r\n        activeIndex={ activeIndex }\r\n        activeShape={ compact ? renderActiveShapeCompact : renderActiveShape }\r\n        onMouseEnter={ onMouseEnter }\r\n        isAnimationActive={ true }\r\n      >\r\n        {\r\n          data.map((entry, index) => (\r\n            <Cell\r\n              key={ `cell-${ index }` }\r\n              fill={ colors[index % colors.length] }\r\n            />\r\n          ))\r\n        }\r\n      </Pie>\r\n    </PC>\r\n  );\r\n});\r\n\r\nexport default function PieChart(props) {\r\n  const {pieData, fiatSymbol, width, height, outer, compact} = props;\r\n\r\n  useEffect(() => {\r\n    data = pieData;\r\n    colors = setColors(pieData.length);\r\n  }, [pieData]);\r\n\r\n  return (\r\n    <>\r\n      { !!props.pieData.length &&\r\n      <ActiveShapePieChart\r\n        pieData={ pieData }\r\n        fiatSymbol={ fiatSymbol }\r\n        width={ width }\r\n        height={ height }\r\n        outer={ outer }\r\n        compact={ compact }\r\n      /> }\r\n    </>\r\n  );\r\n}\r\n\r\nPieChart.propTypes = {\r\n  pieData: PropTypes.array.isRequired,\r\n  fiatSymbol: PropTypes.string.isRequired,\r\n  width: PropTypes.number.isRequired,\r\n  height: PropTypes.number.isRequired,\r\n  outer: PropTypes.number.isRequired,\r\n  compact: PropTypes.bool\r\n};","import React, { useContext, useEffect, useState } from 'react';\r\nimport { StoreContext } from '../../context';\r\nimport PieChart from '../PieChart';\r\nimport { sortNum } from '../../utils';\r\nimport { makeStyles } from '@material-ui/core';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport { useTheme } from '@material-ui/core/styles';\r\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    position: 'relative',\r\n    margin: 'auto'\r\n  },\r\n  cap: {\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    borderStyle: 'solid',\r\n    borderColor: '#eee',\r\n    position: 'absolute',\r\n    borderRadius: '50%',\r\n    margin: 'auto',\r\n  },\r\n});\r\n\r\nexport default function PieChartContainer() {\r\n  const {state} = useContext(StoreContext);\r\n  const [pieData, setPieData] = useState([]);\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const notMobile = useMediaQuery(theme.breakpoints.up('sm'));\r\n  const {tableData, fiat, fiatSymbol} = state;\r\n\r\n  const pieConfig = {\r\n    pieWidth: notMobile ? 576 - 24 : 288,\r\n    pieHeight: notMobile ? 430 : 288,\r\n    pieOuter: 270\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!!tableData.length) {\r\n      setPieData(tableData.map(item => {\r\n        if (!isNaN(item.val)) {\r\n          return {\r\n            name: item.title,\r\n            value: item.val,\r\n            fiat: fiat,\r\n            fiatSymbol: fiatSymbol\r\n          };\r\n        }\r\n        return null;\r\n      }).filter(item => !!item).sort((a, b) => sortNum(b.value, a.value)));\r\n    }\r\n  }, [tableData.length, tableData, fiatSymbol, fiat]);\r\n\r\n  return (\r\n    <div\r\n      className={ classes.root }\r\n      style={ {\r\n        width: pieConfig.pieWidth,\r\n        height: pieConfig.pieHeight,\r\n        margin: !notMobile ? '1.5rem auto' : null\r\n      } }\r\n    >\r\n\r\n      <Fade in={ !pieData.length } timeout={ {enter: 0, exit: 2000} }>\r\n        <div\r\n          className={ classes.cap }\r\n          style={ {\r\n            borderWidth: (pieConfig.pieOuter - pieConfig.pieOuter * 0.865) / 2,\r\n            height: pieConfig.pieOuter,\r\n            width: pieConfig.pieOuter\r\n          } }\r\n        />\r\n      </Fade>\r\n\r\n      <PieChart\r\n        pieData={ pieData }\r\n        fiatSymbol={ fiatSymbol }\r\n        width={ pieConfig.pieWidth }\r\n        height={ pieConfig.pieHeight }\r\n        outer={ pieConfig.pieOuter }\r\n        compact={!notMobile}\r\n      />\r\n\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext, useRef } from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport { StoreContext } from '../../context';\r\nimport { setSpreadsheetLink } from '../../context/actions';\r\nimport { DEMO_SPREADSHEET } from '../TableContainer/TableContainer';\r\nimport Box from '@material-ui/core/Box';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  modalHead: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    padding: theme.spacing(1, 3)\r\n  },\r\n  modalTitle: {\r\n    ...theme.typography.h6,\r\n    margin: '5px auto 5px 0',\r\n  },\r\n  textField: {\r\n    width: '100%',\r\n    '& label.Mui-focused': {\r\n      color: '#777',\r\n    },\r\n    '& .MuiInput-underline:after': {\r\n      borderBottomColor: '#777',\r\n    },\r\n  },\r\n  error: {\r\n    color: 'red'\r\n  },\r\n  text: {\r\n    fontSize: 12,\r\n    wordBreak: 'break-all'\r\n  }\r\n}));\r\n\r\nexport default function SSModal(props) {\r\n  const {dispatch} = useContext(StoreContext);\r\n  const [value, setValue] = React.useState('');\r\n  const [invalid, setInvalid] = React.useState(false);\r\n  const inputEl = useRef(null);\r\n  const classes = useStyles();\r\n  const {open, handleClose} = props;\r\n\r\n  const handleChange = e => {\r\n    setInvalid(false);\r\n    setValue(e.target.value);\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n    let isValid = false;\r\n\r\n    if (value.length) {\r\n      if (/https:\\/\\/docs.google.com\\/spreadsheets\\/d\\/\\S{44}\\S*/.test(value)) {\r\n        isValid = true;\r\n      } else {\r\n        setInvalid(true);\r\n      }\r\n    } else {\r\n      setInvalid(true);\r\n      inputEl.current.focus();\r\n    }\r\n\r\n    if (isValid) {\r\n      const sId = value.match(/d\\/(\\S{44})/)[1];\r\n      dispatch(setSpreadsheetLink(sId));\r\n      setValue('');\r\n      handleClose();\r\n    }\r\n  };\r\n\r\n  const handleClear = () => {\r\n    setValue('');\r\n    inputEl.current.focus();\r\n  };\r\n\r\n  const handleSetDemo = () => {\r\n    dispatch(setSpreadsheetLink(DEMO_SPREADSHEET));\r\n    localStorage.removeItem('spreadSheetLink');\r\n    handleClose();\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    if (open) {\r\n      setValue('');\r\n      setInvalid(false);\r\n    }\r\n  }, [open]);\r\n\r\n  return (\r\n    <div>\r\n      <Dialog open={ open } onClose={ handleClose }>\r\n        <div className={ classes.modalHead }>\r\n          <h2 className={ classes.modalTitle }>Add Spreadsheet</h2>\r\n          <Button variant=\"outlined\" size=\"small\" onClick={ () => handleSetDemo() }>Demo</Button>\r\n        </div>\r\n        <DialogContent>\r\n          <div>\r\n            { invalid\r\n              ? <Typography\r\n                component=\"div\"\r\n                className={ classes.error }\r\n              >\r\n                Enter correct link!\r\n                <Typography component=\"div\" color=\"error\" className={ classes.text }>\r\n                  Example: https://docs.google.com/spreadsheets/d/1paG7wL-ZRiAHvU6QcvtISVX2ROP8NTcvslQETh8ZdRQ\r\n                </Typography>\r\n\r\n              </Typography>\r\n              : <Typography component=\"div\">\r\n                Enter the link to your Google Spreadsheets\r\n                  <Typography variant=\"body2\" color=\"textSecondary\" className={ classes.text }>\r\n                    Example: https://docs.google.com/spreadsheets/d/1paG7wL-ZRiAHvU6QcvtISVX2ROP8NTcvslQETh8ZdRQ/edit?usp=sharing\r\n                  </Typography>\r\n              </Typography>\r\n            }\r\n\r\n          </div>\r\n          <TextField\r\n            inputRef={ inputEl }\r\n            fullWidth\r\n            autoFocus\r\n            label=\"Enter your spreadsheets link\"\r\n            className={ `${ classes.textField } ${ classes.dense }` }\r\n            margin=\"dense\"\r\n            onChange={ e => handleChange(e) }\r\n            value={ value }\r\n          />\r\n        </DialogContent>\r\n        <Box mx={ 2 }>\r\n\r\n          <DialogActions>\r\n            <Button\r\n              variant=\"contained\"\r\n              className={ classes.button }\r\n              onClick={ () => handleSubmit() }\r\n            >\r\n              Ok\r\n            </Button>\r\n            <Button\r\n              variant=\"outlined\"\r\n              disabled={ !value }\r\n              onClick={ () => handleClear() }\r\n            >\r\n              Clear\r\n            </Button>\r\n          </DialogActions>\r\n        </Box>\r\n\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport List from '@material-ui/core/List';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport NoteAddOutlinedIcon from '@material-ui/icons/NoteAddOutlined';\r\n// import VpnKeyOutlinedIcon from '@material-ui/icons/VpnKeyOutlined';\r\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport SSModal from '../SSModal';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  drawerHeader: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    padding: theme.spacing(0, 1),\r\n    ...theme.mixins.toolbar\r\n  },\r\n  icon: {\r\n    minWidth: 40\r\n  }\r\n}));\r\n\r\nexport default function Sidebar(props) {\r\n  const [ssModal, setSsModal] = React.useState(false);\r\n  const classes = useStyles();\r\n\r\n  const handleClickOpen = () => {\r\n    setSsModal(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setSsModal(false);\r\n  };\r\n\r\n  return (\r\n    <div role=\"presentation\">\r\n      <div className={ classes.drawerHeader }>\r\n        <IconButton\r\n          onClick={ props.toggleDrawer(false) }\r\n          onKeyDown={ props.toggleDrawer(false) }\r\n        >\r\n          <ChevronRightIcon />\r\n        </IconButton>\r\n      </div>\r\n\r\n      <Divider />\r\n      <List>\r\n        <ListItem button onClick={ handleClickOpen }>\r\n          <ListItemIcon className={classes.icon}>\r\n            <NoteAddOutlinedIcon />\r\n          </ListItemIcon>\r\n          <ListItemText primary=\"Add Spreadsheet\" />\r\n        </ListItem>\r\n        {/*<ListItem button>*/}\r\n        {/*  <ListItemIcon className={classes.icon}>*/}\r\n        {/*    <VpnKeyOutlinedIcon />*/}\r\n        {/*  </ListItemIcon>*/}\r\n        {/*  <ListItemText primary=\"Add Key\" />*/}\r\n        {/*</ListItem>*/}\r\n      </List>\r\n      <Divider />\r\n\r\n      <SSModal open={ ssModal } handleClose={ handleClose } />\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nSidebar.propTypes = {\r\n  toggleDrawer: PropTypes.func\r\n};","import React, { useContext } from 'react';\r\nimport { StoreContext } from '../../context';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\r\nimport Popper from '@material-ui/core/Popper';\r\nimport Button from '@material-ui/core/Button';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport { setCurrency } from '../../context/actions';\r\n\r\nconst currencyList = [\r\n  {id: 'btc', title: 'BTC', symbol: '₿'},\r\n  {id: 'usdt', title: 'USD', symbol: '$'},\r\n  {id: 'eur', title: 'EUR', symbol: '€'},\r\n  {id: 'rur', title: 'RUR', symbol: '₽'}\r\n];\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n  },\r\n  wrap: {\r\n    marginBottom: theme.spacing(1),\r\n    minWidth: 90\r\n  },\r\n  icon: {\r\n    display: 'inline-block',\r\n    border: '1px solid #999',\r\n    borderRadius: '50%',\r\n    width: '1.4em',\r\n    height: '1.4em',\r\n    lineHeight: '1.3em',\r\n    textAlign: 'center',\r\n    marginRight: 8,\r\n  }\r\n}));\r\n\r\nexport default function SelectCurrency() {\r\n  const {state, dispatch} = useContext(StoreContext);\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const classes = useStyles();\r\n\r\n  const handleOpen = e => {\r\n    setAnchorEl(anchorEl ? null : e.currentTarget);\r\n  };\r\n\r\n  const handleClickAway = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const handleClick = e => {\r\n    dispatch(setCurrency(e.currentTarget.id));\r\n  };\r\n\r\n  return (\r\n      <ClickAwayListener onClickAway={ handleClickAway }>\r\n        <div>\r\n          <Button variant=\"outlined\" onClick={ handleOpen }>\r\n\r\n            <div className={ classes.icon }>\r\n              {currencyList.find(item => item.id === state.fiat).symbol}\r\n            </div>\r\n            {currencyList.find(item => item.id === state.fiat).title}\r\n\r\n          </Button>\r\n          <Popper\r\n            open={ !!anchorEl }\r\n            anchorEl={ anchorEl }\r\n            transition\r\n            placement=\"bottom-end\"\r\n            modifiers={{\r\n              flip: {\r\n                enabled: false\r\n              },\r\n              offset: {\r\n                offset: '0, 1px'\r\n              },\r\n              computeStyle: {\r\n                y: \"'right'\",\r\n              },\r\n            }}\r\n          >\r\n            { ({TransitionProps}) => (\r\n              <Fade { ...TransitionProps } timeout={ 150 }>\r\n                <Paper elevation={8}>\r\n                  <List component=\"div\">\r\n                    { currencyList.map(item => (\r\n                      <ListItem\r\n                        button\r\n                        id={ item.id }\r\n                        key={ item.id }\r\n                        onClick={ handleClick }\r\n                        selected={item.id === state.fiat}\r\n                      >\r\n                        <div className={ classes.icon }>{ item.symbol }</div>\r\n                        { item.title }\r\n                      </ListItem>\r\n                    )) }\r\n                  </List>\r\n                </Paper>\r\n\r\n              </Fade>\r\n            ) }\r\n          </Popper>\r\n        </div>\r\n      </ClickAwayListener>\r\n  );\r\n}","import React, { useState, useEffect, useContext } from 'react';\r\nimport Box from '@material-ui/core/Box';\r\nimport { decimalFormat, sum } from '../../utils';\r\nimport { StoreContext } from '../../context';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nconst useStyles = makeStyles({\r\n  preloader: {\r\n    marginTop: 4\r\n  },\r\n  progress: {\r\n    color: '#ccc',\r\n    animationDuration: '.8s',\r\n  },\r\n});\r\n\r\nexport default function TableSum() {\r\n  const {state} = useContext(StoreContext);\r\n  const [total, setTotal] = useState(0);\r\n  const [profit, setProfit] = useState(0);\r\n  const classes = useStyles();\r\n  const {tableData, fiat, fiatSymbol} = state;\r\n\r\n  useEffect(() => {\r\n    if (tableData.length) {\r\n      setTotal(sum(tableData, 'val'));\r\n      setProfit(sum(tableData, 'profit'));\r\n    }\r\n  }, [fiatSymbol, tableData]);\r\n\r\n  return (\r\n    <Box lineHeight={ 1.25 }>\r\n      { !total\r\n        ? <div className={ classes.preloader }><CircularProgress className={ classes.progress } size={ 25 } disableShrink /></div>\r\n        : <div>\r\n          <Box fontSize=\"body1.fontSize\" fontWeight=\"fontWeightMiddle\">\r\n            { `Total: ${ fiat === 'btc' ? total.toFixed(8) : decimalFormat(total, 2) } ${ fiatSymbol }` }\r\n          </Box>\r\n          < Box fontSize=\"body2.fontSize\">\r\n            Profit:\r\n            <Box component=\"span\" color={ (profit < 0) ? 'red' : 'green' }>\r\n              { ` ${ fiat === 'btc' ? profit.toFixed(8) : decimalFormat(profit, 2) } ${ fiatSymbol }` }\r\n            </Box>\r\n          </Box>\r\n        </div> }\r\n    </Box>\r\n  );\r\n}","import React, { useState } from 'react';\r\nimport Container from '@material-ui/core/Container';\r\nimport SwipeableDrawer from '@material-ui/core/SwipeableDrawer';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Box from '@material-ui/core/Box';\r\nimport Sidebar from '../Sidebar';\r\nimport SelectCurrency from '../SelectCurrency/SelectCurrency';\r\nimport TableSum from '../TableSum/TableSum';\r\nimport Fab from '@material-ui/core/Fab';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n  logo: {\r\n    ...theme.typography.h4,\r\n    margin: 0,\r\n    letterSpacing: 3,\r\n  },\r\n  row: {\r\n    marginTop: 5,\r\n    marginBottom: 5\r\n  },\r\n  col1: {\r\n    [theme.breakpoints.up('sm')]: {\r\n      order: 1,\r\n    },\r\n  },\r\n  col2: {\r\n    textAlign: 'right',\r\n    [theme.breakpoints.up('sm')]: {\r\n      order: 4,\r\n    },\r\n  },\r\n  col3: {\r\n    [theme.breakpoints.up('sm')]: {\r\n      order: 3,\r\n    },\r\n  },\r\n  col4: {\r\n    [theme.breakpoints.up('sm')]: {\r\n      order: 2,\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function Header() {\r\n  const classes = useStyles();\r\n  const [sidebar, setSidebar] = useState(false);\r\n\r\n  const toggleDrawer = open => event => {\r\n    if (event && event.type === 'keydown' && (event.key === 'Tab' || event.key === 'Shift')) return;\r\n    setSidebar(open);\r\n  };\r\n\r\n  return (\r\n    <Box component='header' className={classes.root}>\r\n      <Container fixed maxWidth=\"xl\">\r\n        <Grid container alignItems=\"center\" spacing={3} className={classes.row}>\r\n\r\n          <Grid item xs={9} sm className={classes.col1}>\r\n            <h1 className={classes.logo}>Cryptoinfo</h1>\r\n          </Grid>\r\n\r\n          <Grid item xs={3} sm=\"auto\" className={classes.col2}>\r\n            <Fab\r\n              color=\"inherit\"\r\n              aria-label=\"open drawer\"\r\n              size=\"small\"\r\n              className={classes.menuButton}\r\n              onClick={ toggleDrawer(true) }\r\n            >\r\n              <MenuIcon />\r\n            </Fab>\r\n          </Grid>\r\n\r\n          <Grid item xs sm=\"auto\" className={classes.col3}>\r\n            <SelectCurrency />\r\n          </Grid>\r\n\r\n          <Grid item xs=\"auto\" className={classes.col4}>\r\n            <TableSum />\r\n          </Grid>\r\n\r\n        </Grid>\r\n      </Container>\r\n      <Divider />\r\n\r\n      <SwipeableDrawer\r\n        anchor=\"right\"\r\n        open={ sidebar }\r\n        onClose={ toggleDrawer(false) }\r\n        onOpen={ toggleDrawer(true) }\r\n      >\r\n        <Sidebar toggleDrawer={toggleDrawer} />\r\n      </SwipeableDrawer>\r\n    </Box>\r\n  );\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Container from '@material-ui/core/Container';\r\nimport Link from '@material-ui/core/Link';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Box from '@material-ui/core/Box';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\nconst gitHubUrl = 'https://github.com/Alrun/cryptoinfo';\r\n\r\nconst GitHubIcon = (props) => (\r\n  <svg width={ `${ props.size }px` } height={ `${ props.size }px` } viewBox=\"0 0 16 16\" aria-hidden=\"true\" style={{fill: 'currentColor'}}>\r\n    <path\r\n      d=\"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z\" />\r\n  </svg>\r\n);\r\n\r\nconst useStyles = makeStyles({\r\n  link: {\r\n    display: 'inline-block',\r\n    verticalAlign: 'top',\r\n    lineHeight: 0.7\r\n  }\r\n});\r\n\r\nexport default function Footer() {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Box component=\"footer\" mt={ 3 }>\r\n      <Divider />\r\n      <Container fixed maxWidth=\"xl\">\r\n        <Grid container alignItems=\"center\">\r\n          <Grid item xs>\r\n            <Box my={ 1 }>\r\n              <Link href={ gitHubUrl } color=\"textSecondary\" className={ classes.link } title=\"GitHub\">\r\n                <GitHubIcon size={ 24 } />\r\n              </Link>\r\n            </Box>\r\n          </Grid>\r\n          <Grid item xs=\"auto\">\r\n            <Box my={ 1 }>\r\n              {/*{ `© 2019 - ${ new Date().getFullYear() } Cryptoinfo` }*/}\r\n              { `© ${ new Date().getFullYear() } Cryptoinfo` }\r\n            </Box>\r\n          </Grid>\r\n        </Grid>\r\n      </Container>\r\n    </Box>\r\n  );\r\n}\r\n\r\nGitHubIcon.propTypes = {\r\n  size: PropTypes.number\r\n};","import React, { useContext } from 'react';\r\nimport { StoreContext } from '../../context';\r\nimport { decimalFormat } from '../../utils';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    display: 'inline-flex',\r\n    flexWrap: 'wrap',\r\n    margin: 0,\r\n    fontSize: theme.typography.h6.fontSize,\r\n  },\r\n  title: {\r\n    marginRight: theme.spacing(1) / 2\r\n  },\r\n  value: {\r\n    whiteSpace: 'nowrap',\r\n    fontWeight: theme.typography.fontWeightMedium\r\n  },\r\n  preloader: {\r\n    marginTop: 2\r\n  },\r\n  progress: {\r\n    color: '#ccc',\r\n    animationDuration: '.8s',\r\n  },\r\n}));\r\n\r\nexport default function Price() {\r\n  const {state} = useContext(StoreContext);\r\n  const classes = useStyles();\r\n  return (\r\n    <div className={ classes.root }>\r\n\r\n        <div className={ classes.title }>\r\n          1 BTC:\r\n        </div>\r\n        { !state.market.priceBtc\r\n          ? <div className={ classes.preloader }>\r\n            <CircularProgress className={ classes.progress } size={ 16 } disableShrink thickness={ 5 } />\r\n          </div>\r\n          : <div className={ classes.value }>\r\n            { decimalFormat(state.market.priceBtc, 2) }&nbsp;{ state.fiat === 'btc' ? '$' : state.fiatSymbol }\r\n          </div>\r\n        }\r\n\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\nimport Container from '@material-ui/core/Container';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport TableContainer from '../TableContainer';\r\nimport PieChartContainer from '../PieChartContainer';\r\nimport Header from '../Header';\r\nimport Box from '@material-ui/core/Box';\r\nimport Footer from '../Footer';\r\nimport Price from '../Price';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  wrapper: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    minHeight: '100%'\r\n  },\r\n  main: {\r\n    flex: '1 0 auto',\r\n    overflow: 'hidden'\r\n  },\r\n  price: {\r\n    display: 'none',\r\n    [theme.breakpoints.up('sm')]: {\r\n      display: 'block',\r\n      position: 'absolute',\r\n      top: 0,\r\n      left: 0,\r\n      right: 0,\r\n      bottom: 0,\r\n      margin: 'auto',\r\n      height: '1.8rem',\r\n      textAlign: 'center'\r\n    }\r\n  },\r\n  col1: {\r\n    marginRight: 'auto',\r\n    textAlign: 'right',\r\n    [theme.breakpoints.up('lg')]: {\r\n      order: 2,\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      display: 'none'\r\n    },\r\n  },\r\n  col2: {\r\n    [theme.breakpoints.up('lg')]: {\r\n      order: 1,\r\n    },\r\n  },\r\n  col3: {\r\n    position: 'relative',\r\n    [theme.breakpoints.up('lg')]: {\r\n      order: 3,\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function Main() {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Box className={ classes.wrapper }>\r\n      <Header />\r\n\r\n      <Box component=\"main\" className={ classes.main }>\r\n        <Container fixed maxWidth=\"xl\">\r\n          <Grid container spacing={ 3 } alignItems=\"flex-start\">\r\n\r\n            <Grid item sm=\"auto\" lg={ 2 } className={ classes.col1 }>\r\n              <Price />\r\n            </Grid>\r\n\r\n            <Grid container item xs={ 12 } lg={ 10 } xl={ 7 } className={ classes.col2 }>\r\n                <TableContainer />\r\n            </Grid>\r\n\r\n            <Grid item xs={ 12 } sm xl={ 5 } className={ classes.col3 }>\r\n              <div className={ classes.price }>\r\n                <Price />\r\n              </div>\r\n              <PieChartContainer />\r\n            </Grid>\r\n          </Grid>\r\n\r\n        </Container>\r\n      </Box>\r\n\r\n      <Footer />\r\n    </Box>\r\n  );\r\n}","import React, { useReducer } from 'react';\r\nimport { reducer, initialState } from './context/reducer';\r\nimport { StoreContext } from './context';\r\nimport Main from './components/Main';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\r\n\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    background: {\r\n      default: '#fff'\r\n    },\r\n  },\r\n  overrides: {\r\n  }\r\n});\r\n\r\nexport default function App() {\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n\r\n  return (\r\n    <StoreContext.Provider value={ {dispatch, state} }>\r\n      <MuiThemeProvider theme={ theme }>\r\n        <CssBaseline />\r\n        <Main />\r\n      </MuiThemeProvider>\r\n    </StoreContext.Provider>\r\n  );\r\n}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App/>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}