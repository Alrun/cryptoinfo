(window.webpackJsonpcryptoinfo=window.webpackJsonpcryptoinfo||[]).push([[0],{23:function(e,t,r){e.exports=r(50)},50:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),c=r(19),o=r.n(c),i=r(21),s=r(1);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(r,!0).forEach(function(t){Object(s.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var d={currency:"usd",sortBy:"title",sortDesc:!1,tableData:[],spreadsheet:{isLoading:!1,error:"",data:[]},market:{isLoading:!1,error:"",data:[]}},p=function(e,t){switch(console.log("action ",t),t.type){case"SPREADSHEET_FETCH_SUCCESS":return u({},e,{spreadsheet:u({},e.spreadsheet,{data:t.data})});case"SPREADSHEET_LOADING":return u({},e,{spreadsheet:u({},e.spreadsheet,{isLoading:t.bool})});case"SPREADSHEET_ERROR":return u({},e,{spreadsheet:u({},e.spreadsheet,{error:t.err})});case"MARKET_FETCH_SUCCESS":return u({},e,{market:u({},e.market,{data:t.data})});case"MARKET_LOADING":return u({},e,{market:u({},e.market,{isLoading:t.bool})});case"MARKET_ERROR":return u({},e,{market:u({},e.market,{error:t.err})});case"SET_CURRENCY":return u({},e,{currency:t.cur});case"SET_TABLE_DATA":return u({},e,{tableData:t.data});case"SORT_ITEMS":return u({},e,{sortBy:e.sortBy===t.sortBy?e.sortBy:t.sortBy,sortDesc:e.sortBy!==t.sortBy?e.sortDesc:!e.sortDesc});default:return e}},f=Object(a.createContext)(),y=r(62),E=r(5),m=r.n(E),b=r(7),h=r(8),v=r.n(h);function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=e.sort(function(e,r){return"string"===typeof e[t]&&"string"===typeof r[t]?e[t].toLowerCase()>r[t].toLowerCase()?1:e[t].toLowerCase()<r[t].toLowerCase()?-1:0:"number"===typeof e[t]&&"number"===typeof r[t]?e[t]-r[t]:console.error("Not valid format data ".concat(e," or ").concat(r," for sorting!"))});return r?a.reverse():a}var O=function(e){return{type:"SPREADSHEET_FETCH_SUCCESS",data:e}},g=function(e){return{type:"SPREADSHEET_LOADING",bool:e}},C=function(e){return{type:"SPREADSHEET_ERROR",msg:e}},S=function(e){return{type:"MARKET_FETCH_SUCCESS",data:e}},j=function(e){return{type:"MARKET_LOADING",bool:e}},P=function(e){return{type:"MARKET_ERROR",msg:e}},k=function(e){return{type:"SET_CURRENCY",cur:e}},R=function(e){return{type:"SET_TABLE_DATA",data:e}},D=function(e){return{type:"SORT_ITEMS",sortBy:e}},T=[{id:"title",title:"Coin"},{id:"quantity",title:"Quantity"},{id:"buyPrice",title:"Buy Price"},{id:"price",title:"Current Price"},{id:"profit",title:"Profit"},{id:"gain",title:"Gain"},{id:"val",title:"Value"},{id:"wallet",title:"Wallet"}];function L(e){var t=Object(a.useContext)(f),r=t.state,c=t.dispatch;return n.a.createElement("div",{style:{display:"flex",padding:"10px 0"}},T.map(function(e){return n.a.createElement("div",{style:{width:120,fontWeight:"bold"},key:Math.random(),onClick:function(){return c(D(e.id))}},e.title,r.sortBy===e.id&&n.a.createElement("div",{style:{display:"inline-block",marginLeft:5}},r.sortDesc?"\u2193":"\u2191"))}))}function A(e){var t=e.data,r=t.title,a=t.buyPrice,c=t.price,o=t.quantity,i=t.buyFee,s=t.sellFee,l=t.wallet;return n.a.createElement("div",{style:{display:"flex"}},n.a.createElement("div",{style:{width:120}},r),n.a.createElement("div",{style:{width:120}},o),n.a.createElement("div",{style:{width:120}},a),n.a.createElement("div",{style:{width:120}},c),n.a.createElement("div",{style:{width:120}},r),n.a.createElement("div",{style:{width:120}},r),n.a.createElement("div",{style:{width:120}},r),n.a.createElement("div",{style:{width:120}},Array.isArray(l)?l.join(", "):l),n.a.createElement("div",null,i," / ",s))}function _(e){var t=Object(a.useContext)(f),r=t.state;t.dispatch;return n.a.createElement("div",null,n.a.createElement(L,null),r.tableData.map(function(e){return e.group?n.a.createElement("div",{key:Math.random()},n.a.createElement(A,{data:e}),n.a.createElement("div",null,e.group.map(function(e){return n.a.createElement(A,{data:e,key:Math.random()})}))):n.a.createElement(A,{data:e,key:Math.random()})}))}function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}var B="1paG7wL-ZRiAHvU6QcvtISVX2ROP8NTcvslQETh8ZdRQ",M="DX8Js7mGTjkscOevUm0IpubG0nMWuO";function $(){var e=Object(a.useContext)(f),t=e.state,r=e.dispatch,c=Object(a.useCallback)(function(){Object(b.a)(m.a.mark(function e(){var t,a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r(g(!0)),e.prev=1,e.next=4,v.a.get("https://spreadsheets.google.com/feeds/list/".concat(B,"/od6/public/values?alt=json"));case 4:t=e.sent,n=t.data.feed.entry,a=n.map(function(e){return{title:e.gsx$title.$t.toUpperCase(),buyPrice:parseFloat(e.gsx$price.$t.replace(",",".")),quantity:parseFloat(e.gsx$quantity.$t.replace(",",".")),buyFee:parseFloat(e.gsx$buyfee.$t.replace(",",".")),sellFee:parseFloat(e.gsx$sellfee.$t.replace(",",".")),wallet:e.gsx$wallet.$t}}),r(O(a)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),C(e.t0),console.error(e.t0);case 13:r(g(!1));case 14:case"end":return e.stop()}var n},e,null,[[1,9]])}))()},[r]),o=Object(a.useCallback)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"usd",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=t.reduce(function(e,t){return e.includes(t)||e.push(t),e},[]),n=a.reduce(function(e,t){return"btc"!==t.toLowerCase()&&"usdt"!==t.toLowerCase()&&(e+="-".concat(t.toLowerCase(),"btc")),e},"btcbtc-usdtbtc"),c=function(e){return e.map(function(e){return{title:e.Name,label:e.Label,price:e.Price,timestamp:e.Timestamp}})};Object(b.a)(m.a.mark(function t(){var a,o;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r(j(!0)),t.prev=1,t.next=4,v.a.get("https://www.worldcoinindex.com/apiservice/ticker?key=".concat(M,"&label=").concat(n,"&fiat=").concat(e));case 4:a=t.sent,o=c(a.data.Markets),r(S(o)),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),P(t.t0),console.error(t.t0);case 13:r(j(!1));case 14:case"end":return t.stop()}},t,null,[[1,9]])}))()},[r]);Object(a.useEffect)(function(){c()},[c]),Object(a.useEffect)(function(){if(t.spreadsheet.data.length){var e=t.spreadsheet.data.map(function(e){return e.title});o(t.currency,e)}},[t.spreadsheet.data.length,t.spreadsheet.data,o,t.currency]);var i=Object(a.useCallback)(function(e,a){var n=e.map(function(e){var t=a.filter(function(t){return t.label.match(/.*(?=\/)/).join().toLowerCase()===e.title.toLowerCase()})[0];return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(r,!0).forEach(function(t){Object(s.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e,{price:t.price})}),c=n.reduce(function(e,t){return e[t.title]?e[t.title]++:e[t.title]=1,e},{}),o=[],i=function(e){if(c.hasOwnProperty(e))if(c[e]>1){var r=[],i={buyPrice:0,quantity:0};n.forEach(function(t){t.title===e&&(r.push(t),i.buyPrice+=t.buyPrice,i.quantity+=t.quantity,i.feeBuy+=t.feeBuy,i.feeSell+=t.feeSell)});var s=r.reduce(function(e,t){return e.includes(t.wallet)||e.push(t.wallet),e},[]);o.push({title:e,buyPrice:i.buyPrice/c[e],quantity:i.quantity,price:a.filter(function(t){return t.label.match(/.*(?=\/)/).join().toLowerCase()===e.toLowerCase()})[0].price,wallet:s,group:w(r,t.sortBy,t.sortDesc)})}else n.forEach(function(t){t.title===e&&o.push(t)})};for(var l in c)i(l);r(R(w(o,t.sortBy,t.sortDesc)))},[r,t.sortBy,t.sortDesc]);return Object(a.useEffect)(function(){t.spreadsheet.data.length&&t.market.data.length&&i(t.spreadsheet.data,t.market.data)},[t.spreadsheet.data,t.market.data,i,t.spreadsheet.data.length,t.market.data.length]),t.spreadsheet.isLoading?n.a.createElement("div",null,"Loading..."):t.spreadsheet.error?n.a.createElement("div",null,t.table.error):n.a.createElement("div",null,n.a.createElement(_,null),n.a.createElement("button",{onClick:function(){return r(k("rur"))}},"Set Currency"))}function F(){return n.a.createElement(y.a,{maxWidth:"xl"},n.a.createElement($,null))}var H=function(){var e=Object(a.useReducer)(p,d),t=Object(i.a)(e,2),r=t[0],c=t[1];return n.a.createElement(f.Provider,{value:{dispatch:c,state:r}},n.a.createElement(F,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[23,1,2]]]);
//# sourceMappingURL=main.e25d9229.chunk.js.map