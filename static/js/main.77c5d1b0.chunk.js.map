{"version":3,"sources":["context/actions.js","context/reducer.js","context/index.js","components/Switch/Switch.js","utils.js","components/TableHeader/TableHeader.js","components/TablePopover/TablePopover.js","components/TableRow/TableRow.js","components/TableFooter/TableFooter.js","components/Table/Table.js","components/TableContainer/TableContainer.js","components/SelectCurrency/SelectCurrency.js","components/PieChart/PieChart.js","components/PieChartContainer/PieChartContainer.js","components/Main/Main.js","App.js","serviceWorker.js","index.js"],"names":["C","spreadsheetFetchSuccess","data","type","spreadsheetLoading","bool","spreadsheetError","msg","marketFetchSuccess","marketLoading","marketError","setCurrency","cur","setTableData","sortItems","sortBy","groupOpenToggle","id","groupOpenAll","initialState","fiat","fiatSymbol","sortDesc","tableData","groupOpen","spreadsheet","isLoading","error","market","priceBtc","priceUsdt","reducer","state","action","console","log","filter","item","label","match","join","toLowerCase","price","find","concat","StoreContext","createContext","Switch","useContext","dispatch","FormControlLabel","control","checked","onChange","inputProps","labelPlacement","sortStr","a","b","decimalFormat","number","s","decimals","decPoint","thousandsSep","String","replace","Math","round","pow","split","length","Array","sum","arr","key","reduce","acc","head","title","useStyles","makeStyles","theme","root","borderBottom","width","col","flexShrink","padding","textAlign","justifyContent","borderRadius","textTransform","backgroundColor","sort","verticalAlign","arrow","marginBottom","arrowTop","transform","arrowBottom","col1","col8","flexGrow","TableHeader","props","colWidth","classes","Box","display","className","map","idx","Button","component","style","Object","keys","onClick","children","fontSize","lineHeight","paddingRight","icon","color","transition","popover","pointerEvents","paper","spacing","MouseOverPopover","React","useState","anchorEl","setAnchorEl","buyFee","sellFee","handlePopoverClose","open","Boolean","aria-owns","undefined","aria-haspopup","onMouseEnter","event","currentTarget","onMouseLeave","Popover","anchorOrigin","vertical","horizontal","transformOrigin","onClose","disableRestoreFocus","typo","typography","load","transitions","create","opacity","loadActive","preloader","top","right","position","bottom","marginTop","overflow","progress","animationDuration","margin","zIndex","TableRow","buyPrice","quantity","wallet","profit","gain","val","errorText","hideMore","col2","toFixed","col3","Number","isNaN","col4","Tooltip","placement","CircularProgress","size","disableShrink","thickness","col5","col6","col7","Typography","noWrap","TableFooter","total","setTotal","setProfit","useEffect","mt","wrap","border","flexWrap","initRow","borderTop","row","toggle","cursor","toggleActive","nested","collapse","col9","Table","Row","group","i","List","disablePadding","ListItem","m","Fragment","Collapse","in","timeout","unmountOnExit","SPREADSHEET_ADDRESS","MARKET_KEY","TableContainer","getSpreadsheetData","useCallback","axios","get","response","feed","entry","spreadsheetData","gsx$title","$t","toUpperCase","parseFloat","gsx$price","gsx$quantity","gsx$buyfee","gsx$sellfee","gsx$wallet","message","getMarketData","currency","coins","coinListWODouble","includes","push","coinList","schemaMarket","Name","Label","Price","timestamp","Timestamp","Markets","coinsFromSpreadsheet","compileTableData","rawDataExtended","coinPriceData","calcProfit","priceSell","priceBuy","calcGain","NaN","currencyListWCount","tableArr","sortTableRows","reverse","sortedArr","hasOwnProperty","groupArr","forEach","feeBuy","feeSell","walletList","curr","CustomInput","withStyles","input","palette","background","InputBase","minWidth","height","marginRight","menu","menuList","menuItem","minHeight","paddingLeft","SelectCurrency","autoComplete","FormControl","Select","value","target","MenuProps","list","name","MenuItem","lightenDarkenColor","percent","num","parseInt","amt","R","B","G","toString","slice","setColors","mainColor","colors","j","renderActiveShape","RADIAN","PI","cx","cy","midAngle","innerRadius","outerRadius","startAngle","endAngle","fill","payload","sin","cos","sx","sy","mx","my","ex","ey","textAnchor","d","stroke","r","x","y","dy","PieChart","activeIndex","setActiveIndex","dataKey","paddingAngle","activeShape","index","PieChartContainer","pieData","setPieData","wrapper","flexDirection","main","flex","Header","Container","maxWidth","Footer","Main","Grid","container","alignItems","xs","lg","justify","createMuiTheme","default","overrides","App","useReducer","Provider","MuiThemeProvider","CssBaseline","window","location","hostname","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.77c5d1b0.chunk.js","sourcesContent":["export const C = {\r\n  SPREADSHEET_FETCH_SUCCESS: 'SPREADSHEET_FETCH_SUCCESS',\r\n  SPREADSHEET_LOADING: 'SPREADSHEET_LOADING',\r\n  SPREADSHEET_ERROR: 'SPREADSHEET_ERROR',\r\n  MARKET_FETCH_SUCCESS: 'MARKET_FETCH_SUCCESS',\r\n  MARKET_LOADING: 'MARKET_LOADING',\r\n  MARKET_ERROR: 'MARKET_ERROR',\r\n  SORT_ITEMS: 'SORT_ITEMS',\r\n  SET_TABLE_DATA: 'SET_TABLE_DATA',\r\n  SET_CURRENCY: 'SET_CURRENCY',\r\n  GROUP_OPEN_TOGGLE: 'GROUP_OPEN_TOGGLE',\r\n  GROUP_OPEN_ALL: 'GROUP_OPEN_ALL'\r\n};\r\n\r\nexport const spreadsheetFetchSuccess = data => ({\r\n  type: C.SPREADSHEET_FETCH_SUCCESS,\r\n  data\r\n});\r\n\r\nexport const spreadsheetLoading = bool => ({\r\n  type: C.SPREADSHEET_LOADING,\r\n  bool\r\n});\r\n\r\nexport const spreadsheetError = msg => ({\r\n  type: C.SPREADSHEET_ERROR,\r\n  msg\r\n});\r\n\r\nexport const marketFetchSuccess = data => ({\r\n  type: C.MARKET_FETCH_SUCCESS,\r\n  data\r\n});\r\n\r\nexport const marketLoading = bool => ({\r\n  type: C.MARKET_LOADING,\r\n  bool\r\n});\r\n\r\nexport const marketError = msg => ({\r\n  type: C.MARKET_ERROR,\r\n  msg\r\n});\r\n\r\nexport const setCurrency = cur => ({\r\n  type: C.SET_CURRENCY,\r\n  cur\r\n});\r\n\r\nexport const setTableData = data => ({\r\n  type: C.SET_TABLE_DATA,\r\n  data\r\n});\r\n\r\nexport const sortItems = sortBy => ({\r\n  type: C.SORT_ITEMS,\r\n  sortBy\r\n});\r\n\r\nexport const groupOpenToggle = id => ({\r\n  type: C.GROUP_OPEN_TOGGLE,\r\n  id\r\n});\r\n\r\nexport const groupOpenAll = bool => ({\r\n  type: C.GROUP_OPEN_ALL,\r\n  bool\r\n});","import { C } from './actions';\r\n\r\nexport const initialState = {\r\n  fiat: 'btc',\r\n  fiatSymbol: '₿',\r\n  sortBy: 'title',\r\n  sortDesc: false,\r\n  tableData: [],\r\n  groupOpenAll: false,\r\n  groupOpen: [],\r\n  spreadsheet: {\r\n    isLoading: false,\r\n    error: '',\r\n    data: []\r\n  },\r\n  market: {\r\n    isLoading: false,\r\n    error: '',\r\n    data: [],\r\n    priceBtc: 0,\r\n    priceUsdt: 0,\r\n  }\r\n};\r\n\r\nexport const reducer = (state, action) => {\r\n  console.log('action ', action);\r\n\r\n  switch (action.type) {\r\n    case C.SPREADSHEET_FETCH_SUCCESS:\r\n      return {\r\n        ...state,\r\n        spreadsheet: {\r\n          ...state.spreadsheet,\r\n          data: action.data,\r\n          error: ''\r\n        }\r\n      };\r\n\r\n    case C.SPREADSHEET_LOADING:\r\n      return {\r\n        ...state,\r\n        spreadsheet: {\r\n          ...state.spreadsheet,\r\n          isLoading: action.bool\r\n        }\r\n      };\r\n\r\n    case C.SPREADSHEET_ERROR:\r\n      return {\r\n        ...state,\r\n        spreadsheet: {\r\n          ...state.spreadsheet,\r\n          error: action.msg\r\n        }\r\n      };\r\n\r\n    case C.MARKET_FETCH_SUCCESS:\r\n      console.log('action market ', action.data);\r\n      return {\r\n        ...state,\r\n        market: {\r\n          ...state.market,\r\n          priceBtc: action.data.filter(item => item.label.match(/.*(?=\\/)/).join().toLowerCase() === 'btc')[0].price,\r\n          priceUsdt: action.data.filter(item => item.label.match(/.*(?=\\/)/).join().toLowerCase() === 'usdt')[0].price,\r\n          data: action.data,\r\n          error: ''\r\n        }\r\n      };\r\n\r\n    case C.MARKET_LOADING:\r\n      return {\r\n        ...state,\r\n        market: {\r\n          ...state.market,\r\n          isLoading: action.bool\r\n        }\r\n      };\r\n\r\n    case C.MARKET_ERROR:\r\n      return {\r\n        ...state,\r\n        market: {\r\n          ...state.market,\r\n          error: action.msg\r\n        }\r\n      };\r\n\r\n    case C.SET_CURRENCY:\r\n      return {\r\n        ...state,\r\n        fiat: action.cur,\r\n        fiatSymbol: (() => {\r\n          switch (action.cur) {\r\n            case 'rur':\r\n              return '₽';\r\n            case 'usdt':\r\n              return '$';\r\n            case 'eur':\r\n              return '€';\r\n            default:\r\n              return '₿';\r\n          }\r\n        })()\r\n      };\r\n\r\n    case C.SET_TABLE_DATA:\r\n      return {\r\n        ...state,\r\n        tableData: action.data\r\n      };\r\n\r\n    case C.SORT_ITEMS:\r\n      return {\r\n        ...state,\r\n        sortBy: state.sortBy === action.sortBy ? state.sortBy : action.sortBy,\r\n        sortDesc: state.sortBy !== action.sortBy ? state.sortDesc : !state.sortDesc\r\n      };\r\n\r\n    case C.GROUP_OPEN_TOGGLE:\r\n      return {\r\n        ...state,\r\n        groupOpen: state.groupOpen.find(id => id === action.id)\r\n                   ? state.groupOpen.filter(item => item !== action.id)\r\n                   : state.groupOpen.concat(action.id)\r\n      };\r\n\r\n    case C.GROUP_OPEN_ALL:\r\n      return {\r\n        ...state,\r\n        groupOpenAll: action.bool,\r\n        groupOpen: action.bool\r\n                   ? state.groupOpen\r\n                   : []\r\n      };\r\n\r\n    // case C.GROUP_CLOSE_ALL:\r\n    //   return {\r\n    //     ...state,\r\n    //     groupOpenAll: action.bool,\r\n    //     groupOpen: []\r\n    //   };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};","import { createContext } from 'react';\r\n\r\nexport const StoreContext = createContext();","import React, { useContext } from 'react';\r\nimport { default as SwitchUI } from '@material-ui/core/Switch';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\n\r\nimport { StoreContext } from '../../context';\r\nimport { groupOpenAll } from '../../context/actions';\r\n\r\nexport default function Switch() {\r\n\r\n  const {state, dispatch} = useContext(StoreContext);\r\n\r\n  const handleChange = () => dispatch(groupOpenAll(!state.groupOpenAll));\r\n\r\n  return (\r\n    <FormControlLabel\r\n      control={ <SwitchUI\r\n        checked={ state.groupOpenAll }\r\n        onChange={ handleChange }\r\n        inputProps={ {'aria-label': 'secondary checkbox'} }\r\n      /> }\r\n      label=\"Expand all\"\r\n      labelPlacement=\"end\"\r\n    >\r\n\r\n    </FormControlLabel>\r\n  );\r\n}","/**\r\n * Compares strings to sort\r\n *\r\n * @param {String} a\r\n * @param {String} b\r\n * @returns {Number}\r\n */\r\nexport function sortStr(a, b) {\r\n  if (a.toLowerCase() > b.toLowerCase()) {\r\n    return 1;\r\n  }\r\n  if (a.toLowerCase() < b.toLowerCase()) {\r\n    return -1;\r\n  }\r\n  return 0;\r\n}\r\n\r\nexport function decimalFormat(number, decimals = 0, decPoint = ',', thousandsSep = ' ') {\r\n  let s;\r\n\r\n  number = +String(number).replace(/[^0-9+\\-Ee.]/g, '');\r\n\r\n  s = decimals\r\n      ? String(Math.round(number * Math.pow(10, decimals)) / Math.pow(10, decimals)).split('.')\r\n      : String(Math.round(number)).split('.');\r\n\r\n  if (s[0].length > 3) {\r\n    s[0] = s[0].replace(/\\B(?=(?:\\d{3})+(?!\\d))/g, thousandsSep);\r\n  }\r\n\r\n  if (!!s[1] && (s[1].length < decimals)) {\r\n    s[1] += new Array(decimals - s[1].length + 1).join('0');\r\n  }\r\n\r\n  return s.join(decPoint);\r\n}\r\n\r\n/**\r\n * The sum of the numbers\r\n *\r\n * @param {Array.<{Object}>} arr\r\n * @param {String} key - key with number\r\n * @returns {Number}\r\n */\r\nexport function sum(arr, key) {\r\n  return arr.reduce((acc, cur) => {\r\n    acc += cur[key];\r\n    return acc;\r\n  }, 0);\r\n}","import React, { useContext } from 'react';\r\nimport { StoreContext } from '../../context';\r\nimport { sortItems } from '../../context/actions';\r\nimport Box from '@material-ui/core/Box';\r\nimport ArrowRightAltIcon from '@material-ui/icons/ArrowRightAlt';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nconst head = [\r\n  {id: 'title', title: 'Coin'},\r\n  {id: 'quantity', title: 'Quantity'},\r\n  {id: 'buyPrice', title: 'Buy Price'},\r\n  {id: 'price', title: 'Current Price'},\r\n  {id: 'profit', title: 'Profit'},\r\n  {id: 'gain', title: 'Gain'},\r\n  {id: 'val', title: 'Value'},\r\n  {id: 'wallet', title: 'Wallet'},\r\n];\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    borderBottom: '1px solid #ccc',\r\n    // marginBottom: '-1px'\r\n    width: '100%',\r\n    // maxWidth: 360,\r\n    // backgroundColor: theme.palette.background.paper,\r\n  },\r\n  col: {\r\n    flexShrink: 0,\r\n    padding: '3px 10px',\r\n    textAlign: 'right',\r\n    justifyContent: 'flex-end',\r\n    borderRadius: 0,\r\n    textTransform: 'none',\r\n    '&:hover': {\r\n      backgroundColor: '#ebebeb'\r\n    }\r\n  },\r\n  sort: {\r\n    verticalAlign: 'middle'\r\n  },\r\n  arrow: {\r\n    marginBottom: '-5px'\r\n  },\r\n  arrowTop: {\r\n    transform: 'rotate(-90deg)'\r\n  },\r\n  arrowBottom: {\r\n    transform: 'rotate(90deg)'\r\n  },\r\n  col1: {\r\n    justifyContent: 'flex-start'\r\n  },\r\n  col8: {\r\n    justifyContent: 'flex-start',\r\n    flexGrow: 1\r\n  },\r\n\r\n  // toggle: {\r\n  //   // border: '1px solid #999',\r\n  // },\r\n  // nested: {\r\n  //   backgroundColor: '#f9f9f9'\r\n  //   // paddingLeft: theme.spacing(4),\r\n  // }\r\n}));\r\n\r\nexport default function TableHeader(props) {\r\n  const {state, dispatch} = useContext(StoreContext);\r\n  const {colWidth} = props;\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Box display=\"flex\" className={ classes.root }>\r\n      { head.map((item, idx) => (\r\n        <Button\r\n          component=\"div\"\r\n          style={ {width: colWidth[Object.keys(colWidth)[idx]], backgroundColor: state.sortBy === item.id ? '#dbdbdb' : ''} }\r\n          key={ item.title }\r\n          onClick={ () => dispatch(sortItems(item.id)) }\r\n          className={ classes[`col${ ++idx }`] ? `${ classes.col } ${ classes[`col${ idx }`] }` : classes.col }\r\n          children={\r\n            <>\r\n              { item.title }\r\n              {\r\n                state.sortBy === item.id\r\n                && <span className={ classes.sort }>\r\n                {\r\n                  state.sortDesc\r\n                  ? <ArrowRightAltIcon\r\n                    fontSize=\"small\"\r\n                    className={ `${ classes.arrow } ${ classes.arrowTop }` }\r\n                  />\r\n                  : <ArrowRightAltIcon\r\n                    fontSize=\"small\"\r\n                    className={ `${ classes.arrow } ${ classes.arrowBottom }` }\r\n                  />\r\n                }\r\n                </span>\r\n              }\r\n            </>\r\n          }\r\n        />\r\n      )) }\r\n    </Box>\r\n  );\r\n}","import React from 'react';\r\nimport Popover from '@material-ui/core/Popover';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Box from '@material-ui/core/Box';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    lineHeight: '1rem',\r\n    paddingRight: 2.5\r\n  },\r\n  icon: {\r\n    fontSize: '1.2rem',\r\n    color: '#ccc',\r\n    transition: 'color .12s',\r\n    '&:hover': {\r\n      color: '#999'\r\n    }\r\n  },\r\n  popover: {\r\n    pointerEvents: 'none',\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(1),\r\n  },\r\n}));\r\n\r\nexport default function MouseOverPopover(props) {\r\n  const classes = useStyles();\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const {buyFee, sellFee} = props;\r\n\r\n  function handlePopoverOpen(event) {\r\n    setAnchorEl(event.currentTarget);\r\n  }\r\n\r\n  function handlePopoverClose() {\r\n    setAnchorEl(null);\r\n  }\r\n\r\n  const open = Boolean(anchorEl);\r\n\r\n  return (\r\n    <>\r\n      <Box\r\n        className={classes.root}\r\n        aria-owns={open ? 'mouse-over-popover' : undefined}\r\n        aria-haspopup=\"true\"\r\n        onMouseEnter={handlePopoverOpen}\r\n        onMouseLeave={handlePopoverClose}\r\n      >\r\n        <MoreVertIcon className={classes.icon} />\r\n      </Box>\r\n      <Popover\r\n        id=\"mouse-over-popover\"\r\n        className={classes.popover}\r\n        classes={{\r\n          paper: classes.paper,\r\n        }}\r\n        open={open}\r\n        anchorEl={anchorEl}\r\n        anchorOrigin={{\r\n          vertical: 'top',\r\n          horizontal: 'right',\r\n        }}\r\n        transformOrigin={{\r\n          vertical: 'top',\r\n          horizontal: 'left',\r\n        }}\r\n        onClose={handlePopoverClose}\r\n        disableRestoreFocus\r\n        children={\r\n          <Box>\r\n            <Box>{`Buy fee: ${buyFee}%`}</Box>\r\n            <Box>{`Sell fee: ${sellFee}%`}</Box>\r\n          </Box>\r\n        }\r\n      />\r\n    </>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Box from '@material-ui/core/Box';\r\nimport TablePopover from '../TablePopover/TablePopover';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport ErrorOutlineIcon from '@material-ui/icons/ErrorOutline';\r\nimport { decimalFormat } from '../../utils';\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  col: {\r\n    padding: '3px 10px',\r\n    flexShrink: 0\r\n  },\r\n  typo: {\r\n    fontSize: theme.typography.fontSize\r\n  },\r\n  load: {\r\n    transition: theme.transitions.create(['opacity']),\r\n    opacity: 1\r\n  },\r\n  loadActive: {\r\n    opacity: .18\r\n  },\r\n  preloader: {\r\n    top: 0,\r\n    right: -10,\r\n    position: 'absolute',\r\n    bottom: 0,\r\n    marginTop: 5,\r\n    overflow: 'hidden',\r\n  },\r\n  progress: {\r\n    color: '#ccc',\r\n    animationDuration: '.8s'\r\n  },\r\n  error: {\r\n    right: -9,\r\n    position: 'absolute',\r\n    fontSize: '14px',\r\n    top: 0,\r\n    bottom: 0,\r\n    margin: 'auto',\r\n    color: 'red',\r\n    zIndex: 1\r\n  }\r\n}));\r\n\r\n\r\nexport default function TableRow(props) {\r\n  const {title, buyPrice, price, quantity, buyFee, sellFee, wallet, profit, gain, val} = props.data;\r\n  const {isLoading, errorText, fiat, fiatSymbol, colWidth, hideMore} = props;\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <>\r\n\r\n      <Box className={ classes.col } style={ {width: colWidth.col1} }>\r\n        { title }\r\n      </Box>\r\n\r\n      <Box\r\n        className={ classes.col }\r\n        style={ {width: colWidth.col2, textAlign: 'right'} }>\r\n        { quantity.toFixed(8) }\r\n      </Box>\r\n\r\n      <Box\r\n        className={ classes.col }\r\n        style={ {\r\n          width: colWidth.col3,\r\n          textAlign: 'right'\r\n        } }>\r\n        {\r\n          !Number.isNaN(buyPrice)\r\n          ? fiat === 'btc'\r\n            ? `${ buyPrice.toFixed(8) } ₿`\r\n            : `${ decimalFormat(buyPrice, 2) } ${ fiatSymbol }`\r\n          : 'N/A'\r\n        }\r\n      </Box>\r\n\r\n      <Box\r\n        className={ classes.col }\r\n        style={ {\r\n          position: 'relative',\r\n          width: colWidth.col4,\r\n          textAlign: 'right'\r\n        } }>\r\n\r\n        { errorText\r\n        && <Tooltip title={ errorText } placement=\"right-end\">\r\n          <ErrorOutlineIcon className={ classes.error } />\r\n        </Tooltip> }\r\n\r\n        { isLoading\r\n        && <Box className={ classes.preloader }>\r\n          <CircularProgress className={ classes.progress } size={ 16 } disableShrink thickness={5}/>\r\n        </Box> }\r\n\r\n        <Box className={ `${ classes.load } ${ isLoading ? classes.loadActive : null }` }>\r\n          {\r\n            !Number.isNaN(price)\r\n            ? fiat === 'btc'\r\n              ? `${ price.toFixed(8) } ₿`\r\n              : `${ decimalFormat(price, 2) } ${ fiatSymbol }`\r\n            : 'N/A'\r\n          }\r\n        </Box>\r\n\r\n      </Box>\r\n\r\n      <Box\r\n        color={ Number.isNaN(profit) ? 'text.primary' : profit < 0 ? 'red' : 'green' }\r\n        className={ classes.col }\r\n        style={ {\r\n          width: colWidth.col5,\r\n          textAlign: 'right'\r\n        } }>\r\n\r\n        {\r\n          !Number.isNaN(profit)\r\n          ? fiat === 'btc'\r\n            ? `${ profit.toFixed(8) } ₿`\r\n            : `${ decimalFormat(profit, 2) } ${ fiatSymbol }`\r\n          : 'N/A'\r\n        }\r\n      </Box>\r\n\r\n      <Box\r\n        color={ Number.isNaN(gain) ? 'text.primary' : gain < 0 ? 'red' : 'green' }\r\n        className={ classes.col }\r\n        style={ {width: colWidth.col6, textAlign: 'right'}\r\n        }>\r\n        {\r\n          !Number.isNaN(gain)\r\n          ? `${ gain.toFixed(2) }%`\r\n          : 'N/A'\r\n        }\r\n      </Box>\r\n\r\n      <Box\r\n        className={ classes.col }\r\n        style={ {\r\n          width: colWidth.col7,\r\n          textAlign: 'right'\r\n        } }>\r\n        {\r\n          !Number.isNaN(val)\r\n          ? fiat === 'btc'\r\n            ? `${ val.toFixed(8) } ₿`\r\n            : `${ decimalFormat(val, 2) } ${ fiatSymbol }`\r\n          : 'N/A'\r\n        }\r\n      </Box>\r\n\r\n      <Box className={ classes.col } style={ {width: colWidth.col8, flexGrow: 1} }>\r\n        <Typography\r\n          component=\"div\"\r\n          noWrap\r\n          className={ classes.typo }\r\n        >\r\n          { wallet }\r\n        </Typography>\r\n\r\n      </Box>\r\n\r\n      { !hideMore && <TablePopover buyFee={ buyFee } sellFee={ sellFee } /> }\r\n    </>\r\n  );\r\n}","import React, { useState, useEffect } from 'react';\r\nimport Box from '@material-ui/core/Box';\r\nimport { decimalFormat, sum } from '../../utils';\r\n\r\nexport default function TableFooter(props) {\r\n  const [total, setTotal] = useState(0);\r\n  const [profit, setProfit] = useState(0);\r\n  const {tableData, fiat, fiatSymbol} = props;\r\n\r\n  useEffect(() => {\r\n    if (tableData.length) {\r\n      setTotal(sum(tableData, 'val'));\r\n      setProfit(sum(tableData, 'profit'));\r\n    }\r\n  }, [fiatSymbol, tableData]);\r\n\r\n  return (\r\n    <Box mt={ 2 }>\r\n      <Box>{ `Total: ${ fiat === 'btc' ? total.toFixed(8) : decimalFormat(total, 2) } ${ fiatSymbol }` }</Box>\r\n      <Box>\r\n        Profit:\r\n        <Box component=\"span\" color={ (profit < 0) ? 'red' : 'green' }>\r\n          { ` ${ fiat === 'btc' ? profit.toFixed(8) : decimalFormat(profit, 2) } ${ fiatSymbol }` }\r\n        </Box>\r\n      </Box>\r\n    </Box>\r\n  );\r\n}","import React, { useContext, useEffect } from 'react';\r\nimport { StoreContext } from '../../context';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport ExpandLess from '@material-ui/icons/ExpandLess';\r\nimport ExpandMore from '@material-ui/icons/ExpandMore';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nimport TableHeader from '../TableHeader';\r\nimport TableRow from '../TableRow';\r\nimport { groupOpenToggle } from '../../context/actions';\r\nimport TableFooter from '../TableFooter';\r\nimport Box from '@material-ui/core/Box';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  wrap: {\r\n    display: 'flex',\r\n    overflow: 'auto',\r\n    border: '1px solid #ccc',\r\n  },\r\n  root: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    width: '100%'\r\n  },\r\n  initRow: {\r\n    borderTop: '1px solid #eee',\r\n    padding: 0,\r\n    overflow: 'hidden',\r\n    justifyContent: 'center'\r\n  },\r\n  row: {\r\n    borderTop: '1px solid #eee',\r\n    padding: 0,\r\n    '&:hover': {\r\n      backgroundColor: '#fafafa',\r\n    },\r\n    // marginBottom: '-1px'\r\n  },\r\n  toggle: {\r\n    borderTop: '1px solid #eee',\r\n    cursor: 'pointer',\r\n    padding: 0,\r\n    transition: 'background-color 0.12s',\r\n    '&:hover': {\r\n      backgroundColor: '#ebebeb',\r\n    },\r\n  },\r\n  toggleActive: {\r\n    backgroundColor: '#dbdbdb',\r\n    '&:hover': {\r\n      backgroundColor: '#dbdbdb',\r\n    },\r\n  },\r\n  nested: {\r\n    backgroundColor: '#f5f5f5',\r\n    borderTop: '1px solid #eee',\r\n    padding: 0,\r\n    '&:hover': {\r\n      backgroundColor: '#f0f0f0',\r\n    },\r\n  },\r\n  collapse: {\r\n    width: '100%'\r\n    // marginTop: '-1px'\r\n  },\r\n  progress: {\r\n    margin: theme.spacing(2),\r\n    color: '#ccc'\r\n  },\r\n}));\r\n\r\nconst colWidth = {\r\n  col1: 85,\r\n  col2: 145,\r\n  col3: 130,\r\n  col4: 130,\r\n  col5: 130,\r\n  col6: 100,\r\n  col7: 130,\r\n  col8: 130,\r\n  col9: 50\r\n};\r\n\r\nexport default function Table() {\r\n  const {state, dispatch} = useContext(StoreContext);\r\n  const classes = useStyles();\r\n\r\n  const Row = (item, hideMore) => {\r\n    return (\r\n      <TableRow\r\n        data={ item }\r\n        fiat={ state.fiat }\r\n        fiatSymbol={ state.fiatSymbol }\r\n        isLoading={ state.market.isLoading }\r\n        errorText={ state.market.error }\r\n        colWidth={ colWidth }\r\n        hideMore={ hideMore }\r\n      />\r\n    );\r\n  };\r\n\r\n  console.log('s ', state);\r\n\r\n  useEffect(() => {\r\n    if (state.groupOpenAll) {\r\n      dispatch(groupOpenToggle(\r\n        state.tableData\r\n          .filter(item => item.group ? item.title : null)\r\n          .map(i => i.title)\r\n      ));\r\n    } else {\r\n      dispatch(groupOpenToggle([]));\r\n    }\r\n  }, [state.groupOpenAll, dispatch, state.tableData]);\r\n\r\n  return (\r\n    <>\r\n      <Box className={ classes.wrap }>\r\n        <List component=\"div\" className={ classes.root } disablePadding>\r\n\r\n          <TableHeader colWidth={ colWidth } />\r\n\r\n          { state.spreadsheet.isLoading\r\n            ? <ListItem\r\n              component=\"div\"\r\n              key=\"init\"\r\n              className={ classes.initRow }\r\n            >\r\n              <CircularProgress\r\n                className={ classes.progress }\r\n                size={ 30 }\r\n              />\r\n            </ListItem>\r\n            : state.spreadsheet.error\r\n              ? <Box m={ 1 } color=\"red\">{ state.spreadsheet.error }</Box>\r\n              : state.tableData.map(item => {\r\n                return !item.group\r\n                       ? <ListItem\r\n                         component=\"div\"\r\n                         key={ item.title }\r\n                         className={ classes.row }\r\n                       >\r\n                         { Row(item) }\r\n                       </ListItem>\r\n                       : <React.Fragment key={ item.title }>\r\n                         <ListItem\r\n                           component=\"div\"\r\n                           className={\r\n                             !!state.groupOpen.find(title => title === item.title)\r\n                             ? `${ classes.toggle } ${ classes.toggleActive }`\r\n                             : classes.toggle\r\n                           }\r\n                           onClick={ () => dispatch(groupOpenToggle(item.title)) }\r\n                         >\r\n                           { Row(item, true) }\r\n                           { !!state.groupOpen.find(title => title === item.title) ? <ExpandLess /> : <ExpandMore /> }\r\n                         </ListItem>\r\n\r\n                         <Collapse\r\n                           in={ !!state.groupOpen.find(title => title === item.title) }\r\n                           timeout=\"auto\"\r\n                           unmountOnExit\r\n                           className={ classes.collapse }\r\n                         >\r\n                           <List component=\"div\" disablePadding>\r\n                             { item.group.map((i, idx) => (\r\n                                 <ListItem\r\n                                   component=\"div\"\r\n                                   className={ classes.nested }\r\n                                   key={ `${ item.title }_${ idx }` }\r\n                                 >\r\n                                   { Row(i) }\r\n                                 </ListItem>\r\n                               )\r\n                             ) }\r\n                           </List>\r\n                         </Collapse>\r\n                       </React.Fragment>;\r\n              }) }\r\n\r\n        </List>\r\n      </Box>\r\n      <TableFooter tableData={ state.tableData } fiat={ state.fiat } fiatSymbol={ state.fiatSymbol } />\r\n    </>\r\n  );\r\n}","import React, { useContext, useEffect, useCallback } from 'react';\r\nimport axios from 'axios';\r\nimport { StoreContext } from '../../context';\r\n\r\nimport {\r\n  spreadsheetFetchSuccess,\r\n  spreadsheetLoading,\r\n  spreadsheetError,\r\n  marketFetchSuccess,\r\n  marketLoading,\r\n  marketError,\r\n  setTableData\r\n} from '../../context/actions';\r\nimport { sortStr } from '../../utils';\r\n\r\nimport Table from '../Table';\r\n\r\nconst SPREADSHEET_ADDRESS = '1paG7wL-ZRiAHvU6QcvtISVX2ROP8NTcvslQETh8ZdRQ';\r\nconst MARKET_KEY = 'DX8Js7mGTjkscOevUm0IpubG0nMWuO';\r\n\r\nexport default function TableContainer() {\r\n  const {state, dispatch} = useContext(StoreContext);\r\n\r\n  const getSpreadsheetData = useCallback(() => {\r\n    const schemaSpreadsheet = data => data.map(item => ({\r\n      title: item.gsx$title.$t.toUpperCase(),\r\n      buyPrice: parseFloat(item.gsx$price.$t.replace(',', '.')),\r\n      quantity: parseFloat(item.gsx$quantity.$t.replace(',', '.')),\r\n      buyFee: parseFloat(item.gsx$buyfee.$t.replace(',', '.')),\r\n      sellFee: parseFloat(item.gsx$sellfee.$t.replace(',', '.')),\r\n      wallet: item.gsx$wallet.$t\r\n    }));\r\n\r\n    (async () => {\r\n      dispatch(spreadsheetLoading(true));\r\n\r\n      try {\r\n        const response = await axios.get(`https://spreadsheets.google.com/feeds/list/${ SPREADSHEET_ADDRESS }/od6/public/values?alt=json`);\r\n        const spreadsheetData = schemaSpreadsheet(response.data.feed.entry);\r\n        dispatch(spreadsheetFetchSuccess(spreadsheetData));\r\n      } catch (err) {\r\n        dispatch(spreadsheetError(err.message));\r\n        console.error(err.message);\r\n      }\r\n\r\n      dispatch(spreadsheetLoading(false));\r\n    })();\r\n  }, [dispatch]);\r\n\r\n  const getMarketData = useCallback((currency, coins = []) => {\r\n    const fiat = currency === 'btc' ? 'usdt' : currency;\r\n    const coinListWODouble = coins.reduce((acc, cur) => {\r\n      if (!acc.includes(cur)) {\r\n        acc.push(cur);\r\n      }\r\n      return acc;\r\n    }, []);\r\n\r\n    const coinList = coinListWODouble.reduce((acc, cur) => {\r\n      if (cur.toLowerCase() !== 'btc' && cur.toLowerCase() !== 'usdt') {\r\n        acc += `-${ cur.toLowerCase() }btc`;\r\n      }\r\n      return acc;\r\n    }, 'btcbtc-usdtbtc');\r\n\r\n    const schemaMarket = data => data.map(item => ({\r\n      title: item.Name,\r\n      label: item.Label,\r\n      price: item.Price,\r\n      timestamp: item.Timestamp\r\n    }));\r\n\r\n    (async () => {\r\n      dispatch(marketLoading(true));\r\n\r\n      try {\r\n        const response = await axios.get(`https://www.worldcoinindex.com/apiservice/ticker?key=${ MARKET_KEY }&label=${ coinList }&fiat=${ fiat }`);\r\n        // const marketData = schemaMarket(response.data.Markets);\r\n\r\n        console.log('resp ', coinList, fiat);\r\n\r\n        if (!!response.data.Markets) {\r\n          dispatch(marketFetchSuccess(schemaMarket(response.data.Markets)));\r\n        } else {\r\n          dispatch(marketFetchSuccess(\r\n            coinList.split('-').map(item => (\r\n              {\r\n                title: '',\r\n                label: item.replace(/(btc)$/, '/$1').toUpperCase(),\r\n                price: 0\r\n              }\r\n            ))\r\n          ));\r\n\r\n          dispatch(marketError(response.data.error));\r\n        }\r\n\r\n        // dispatch(marketFetchSuccess(marketData));\r\n      } catch (err) {\r\n        dispatch(marketError(err));\r\n        console.error(err);\r\n      }\r\n\r\n      dispatch(marketLoading(false));\r\n    })();\r\n  }, [dispatch]);\r\n\r\n  useEffect(() => {\r\n    getSpreadsheetData();\r\n  }, [getSpreadsheetData]);\r\n\r\n\r\n  useEffect(() => {\r\n    if (!!state.spreadsheet.data.length) {\r\n      const coinsFromSpreadsheet = state.spreadsheet.data.map(item => item.title);\r\n      getMarketData(state.fiat, coinsFromSpreadsheet);\r\n    }\r\n  }, [\r\n    state.spreadsheet.data.length,\r\n    state.spreadsheet.data,\r\n    getMarketData,\r\n    state.fiat\r\n  ]);\r\n\r\n  const compileTableData = useCallback((spreadsheet, market) => {\r\n    const rawData = spreadsheet.map(item => {\r\n      const coinPriceData = market.filter(i => i.label.match(/.*(?=\\/)/).join().toLowerCase() === item.title.toLowerCase())[0];\r\n\r\n      return {\r\n        ...item,\r\n        price: coinPriceData.price,\r\n        label: coinPriceData.title\r\n      };\r\n    });\r\n\r\n    const rawDataExtended = rawData.map(item => {\r\n      const calcProfit = (priceSell, priceBuy, quantity, buyFee, sellFee) => {\r\n        return priceSell * quantity - priceBuy * quantity - (quantity / 100 * buyFee + quantity) / 100 * buyFee * priceBuy - quantity / 100 * sellFee * priceSell;\r\n      };\r\n\r\n      const calcGain = (priceSell, priceBuy, quantity) => {\r\n        return (priceSell * quantity - priceBuy * quantity) * 100 / (priceBuy * quantity);\r\n      };\r\n\r\n      return {\r\n        ...item,\r\n        buyPrice: state.fiat === 'btc'\r\n                  ? item.title.toLowerCase() === 'btc'\r\n                    ? !!state.market.priceBtc ? item.buyPrice / state.market.priceBtc : 1\r\n                    : item.buyPrice\r\n                  : item.title.toLowerCase() === 'btc'\r\n                    ? !!state.market.priceBtc ? item.buyPrice * state.market.priceUsdt : NaN\r\n                    : !!state.market.priceBtc ? item.buyPrice * state.market.priceBtc : NaN,\r\n        price: state.fiat === 'btc'\r\n               ? !!state.market.priceBtc ? item.price / state.market.priceBtc : NaN\r\n               : !!state.market.priceBtc ? item.price : NaN,\r\n        profit: state.market.priceBtc\r\n                ? state.fiat === 'btc'\r\n\r\n                  ? item.title.toLowerCase() === 'btc'\r\n                    ? calcProfit(item.price / state.market.priceBtc, item.buyPrice / state.market.priceBtc, item.quantity, item.buyFee, item.sellFee)\r\n                    : calcProfit(item.price / state.market.priceBtc, item.buyPrice, item.quantity, item.buyFee, item.sellFee)\r\n                  : item.title.toLowerCase() === 'btc'\r\n                    ? calcProfit(item.price, item.buyPrice * state.market.priceUsdt, item.quantity, item.buyFee, item.sellFee)\r\n                    : calcProfit(item.price, item.buyPrice * state.market.priceBtc, item.quantity, item.buyFee, item.sellFee)\r\n                : NaN,\r\n        gain: state.fiat === 'btc'\r\n              ? item.title.toLowerCase() === 'btc'\r\n                ? calcGain(item.price / state.market.priceBtc, item.buyPrice / state.market.priceBtc, item.quantity)\r\n                : calcGain(item.price / state.market.priceBtc, item.buyPrice, item.quantity)\r\n              : item.title.toLowerCase() === 'btc'\r\n                ? calcGain(item.price, item.buyPrice * state.market.priceUsdt, item.quantity)\r\n                : calcGain(item.price, item.buyPrice * state.market.priceBtc, item.quantity),\r\n        val: state.market.priceBtc\r\n             ? state.fiat === 'btc'\r\n               ? item.price / state.market.priceBtc * item.quantity\r\n               : item.price * item.quantity\r\n             : NaN\r\n      };\r\n    });\r\n\r\n    const currencyListWCount = rawDataExtended.reduce((acc, cur) => {\r\n      if (!acc[cur.title]) {\r\n        acc[cur.title] = 1;\r\n      } else {\r\n        acc[cur.title]++;\r\n      }\r\n      return acc;\r\n    }, {});\r\n\r\n    let tableArr = [];\r\n\r\n    const sortTableRows = (arr = [], sortBy, reverse) => {\r\n      const sortedArr = arr.sort((a, b) => {\r\n        if (typeof a[sortBy] === 'string' && typeof b[sortBy] === 'string') {\r\n          return sortStr(a[sortBy], b[sortBy]);\r\n        }\r\n        if (typeof a[sortBy] === 'number' && typeof b[sortBy] === 'number') {\r\n          return a[sortBy] - b[sortBy];\r\n        }\r\n        return console.error(`Not valid format data ${ a } or ${ b } for sortTableRows!`);\r\n      });\r\n      return reverse ? sortedArr.reverse() : sortedArr;\r\n    };\r\n\r\n    for (let key in currencyListWCount) {\r\n      if (currencyListWCount.hasOwnProperty(key)) {\r\n        if (currencyListWCount[key] > 1) {\r\n          let groupArr = [];\r\n          let sum = {\r\n            quantity: 0,\r\n            buyPrice: 0,\r\n            val: 0,\r\n            profit: 0,\r\n            gain: 0\r\n          };\r\n\r\n          rawDataExtended.forEach(item => {\r\n            if (item.title === key) {\r\n              groupArr.push(item);\r\n              sum.buyPrice += item.buyPrice * item.quantity;\r\n              sum.quantity += item.quantity;\r\n              sum.profit += item.profit;\r\n              sum.gain += item.gain * item.quantity;\r\n              sum.val += item.val;\r\n              sum.feeBuy += item.feeBuy;\r\n              sum.feeSell += item.feeSell;\r\n            }\r\n          });\r\n\r\n          let walletList = groupArr.reduce((acc, curr) => {\r\n            if (!acc.includes(curr.wallet)) {\r\n              acc.push(curr.wallet);\r\n            }\r\n            return acc;\r\n          }, []);\r\n\r\n          if (state.sortBy === 'wallet') {\r\n            walletList.sort((a, b) => {\r\n              return sortStr(a, b);\r\n            });\r\n\r\n            if (state.sortDesc) walletList.reverse();\r\n          }\r\n\r\n          tableArr.push({\r\n            title: key,\r\n            buyPrice: sum.buyPrice / sum.quantity,\r\n            quantity: sum.quantity,\r\n            val: sum.val,\r\n            price: !!state.market.priceBtc\r\n                   ? state.fiat === 'btc'\r\n                     ? market.filter(i => i.label.match(/.*(?=\\/)/).join().toLowerCase() === key.toLowerCase())[0].price / state.market.priceBtc\r\n                     : market.filter(i => i.label.match(/.*(?=\\/)/).join().toLowerCase() === key.toLowerCase())[0].price\r\n                   : NaN,\r\n            profit: sum.profit,\r\n            gain: sum.gain / sum.quantity,\r\n            wallet: walletList.join(', '),\r\n            group: sortTableRows(groupArr, state.sortBy, state.sortDesc)\r\n          });\r\n        } else {\r\n          rawDataExtended.forEach(item => {\r\n            if (item.title === key) {\r\n              tableArr.push(item);\r\n            }\r\n          });\r\n        }\r\n      }\r\n    }\r\n\r\n    dispatch(setTableData(sortTableRows(tableArr, state.sortBy, state.sortDesc)));\r\n  }, [\r\n    dispatch,\r\n    state.sortBy,\r\n    state.sortDesc,\r\n    state.fiat,\r\n    state.market\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    if (!!state.spreadsheet.data.length && !!state.market.data.length) {\r\n      compileTableData(state.spreadsheet.data, state.market.data);\r\n    }\r\n  }, [\r\n    state.spreadsheet.data,\r\n    state.market.data,\r\n    compileTableData,\r\n    state.spreadsheet.data.length,\r\n    state.market.data.length\r\n  ]);\r\n\r\n  return (\r\n    <Table />\r\n  );\r\n}","import React, { useContext } from 'react';\r\nimport { StoreContext } from '../../context';\r\n\r\nimport { setCurrency } from '../../context/actions';\r\n\r\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport InputBase from '@material-ui/core/InputBase';\r\nimport Box from '@material-ui/core/Box';\r\n\r\nconst CustomInput = withStyles(theme => ({\r\n  root: {\r\n  //   'label + &': {\r\n  //     marginTop: theme.spacing(5),\r\n  //   },\r\n  },\r\n  input: {\r\n    borderRadius: 5,\r\n    position: 'relative',\r\n    backgroundColor: theme.palette.background.paper,\r\n    border: '1px solid #ced4da',\r\n    fontSize: 14,\r\n    padding: '8px 24px 8px 8px',\r\n    transition: theme.transitions.create(['border-color', 'box-shadow']),\r\n    // Use the system font instead of the default Roboto font.\r\n    '&:focus': {\r\n      background: theme.palette.background.paper,\r\n      borderRadius: 5,\r\n      // borderColor: '#80bdff',\r\n      // boxShadow: '0 0 0 0.2rem rgba(0,123,255,.25)',\r\n    },\r\n  },\r\n}))(InputBase);\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n  },\r\n  wrap: {\r\n    marginBottom: theme.spacing(1),\r\n    minWidth: 90\r\n  },\r\n  icon: {\r\n    display: 'inline-block',\r\n    border: '1px solid #999',\r\n    borderRadius: '50%',\r\n    width: '1.4em',\r\n    height: '1.4em',\r\n    lineHeight: '1.3em',\r\n    textAlign: 'center',\r\n    marginRight: 5,\r\n  },\r\n  menu: {\r\n    // border: '1px solid red',\r\n    // minWidth: 90\r\n  },\r\n  menuList: {\r\n    // border: '1px solid green',\r\n    padding: 0,\r\n  },\r\n  menuItem: {\r\n    minWidth: 90,\r\n    fontSize: '1rem',\r\n    minHeight: 40,\r\n    paddingLeft: 10\r\n  }\r\n}));\r\n\r\nexport default function SelectCurrency() {\r\n  const {state, dispatch} = useContext(StoreContext);\r\n\r\n  const classes = useStyles();\r\n  // const [age, setAge] = React.useState('');\r\n  const handleChange = event => {\r\n    dispatch(setCurrency(event.target.value));\r\n  };\r\n\r\n\r\n  return (\r\n    <form className={ classes.root } autoComplete=\"off\">\r\n      <FormControl className={ classes.wrap }>\r\n        <Select\r\n          value={ state.fiat }\r\n          onChange={ handleChange }\r\n          MenuProps={{classes: {paper: classes.menu, list: classes.menuList}}}\r\n          input={\r\n            <CustomInput\r\n              name=\"currency\"\r\n              id=\"currency-customized-select\"\r\n            />\r\n          }\r\n        >\r\n          <MenuItem className={classes.menuItem} value=\"btc\"><Box className={ classes.icon }>₿</Box>BTC</MenuItem>\r\n          <MenuItem className={classes.menuItem} value=\"usdt\"><Box className={ classes.icon }>$</Box>USD</MenuItem>\r\n          <MenuItem className={classes.menuItem} value=\"eur\"><Box className={ classes.icon }>€</Box>EUR</MenuItem>\r\n          <MenuItem className={classes.menuItem} value=\"rur\"><Box className={ classes.icon }>₽</Box>RUR</MenuItem>\r\n        </Select>\r\n      </FormControl>\r\n    </form>\r\n  );\r\n}","import React, { useState } from 'react';\r\nimport {\r\n  PieChart as PC, Pie, Sector, Cell, ResponsiveContainer,\r\n} from 'recharts';\r\nimport { decimalFormat, sum } from '../../utils';\r\nimport Box from '@material-ui/core/Box';\r\n\r\nfunction lightenDarkenColor(color, percent) {\r\n  let num = parseInt(color.replace('#', ''), 16),\r\n    amt = Math.round(2.55 * percent),\r\n    R = (num >> 16) + amt,\r\n    B = ((num >> 8) & 0x00FF) + amt,\r\n    G = (num & 0x0000FF) + amt;\r\n\r\n  return '#' + (0x1000000 + (R < 255 ? R < 1 ? 0 : R : 255) * 0x10000 + (B < 255 ? B < 1 ? 0 : B : 255) * 0x100 + (G < 255 ? G < 1 ? 0 : G : 255)).toString(16).slice(1);\r\n}\r\n\r\nconst setColors = () => {\r\n  const mainColor = [\r\n    '#f0f0f0'\r\n  ];\r\n  const grade = 6;\r\n\r\n  let colors = [];\r\n\r\n  for (let i = 0; i < mainColor.length; i++) {\r\n    let num = 0;\r\n    for (let j = 0; j < grade; j++) {\r\n      colors.push(lightenDarkenColor(mainColor[i], num));\r\n      num -= 11;\r\n    }\r\n  }\r\n\r\n  // console.log(colors);\r\n\r\n  return colors;\r\n};\r\n\r\n// setColors(colors, 3);\r\n\r\n// console.log(COLORS);\r\n\r\n// const RADIAN = Math.PI / 180;\r\n// const renderCustomizedLabel = ({cx, cy, midAngle, innerRadius, outerRadius, percent, index}) => {\r\n//   const radius = innerRadius + (outerRadius - innerRadius) * 0.3;\r\n//   const x = cx + radius * Math.cos(-midAngle * RADIAN);\r\n//   const y = cy + radius * Math.sin(-midAngle * RADIAN);\r\n//\r\n//   if ((percent * 100).toFixed(0) > 5) {\r\n//     return (\r\n//       <text\r\n//         x={ x } y={ y }\r\n//         fill=\"white\"\r\n//         textAnchor={ x > cx ? 'start' : 'end' }\r\n//         dominantBaseline=\"baseline\"\r\n//       >\r\n//         {/*{ `${ (percent * 100).toFixed(0) }%` }*/ }\r\n//         { data[index].name }\r\n//       </text>\r\n//     );\r\n//   }\r\n// };\r\n\r\nconst renderActiveShape = (props) => {\r\n  const RADIAN = Math.PI / 180;\r\n  const {cx, cy, midAngle, innerRadius, outerRadius, startAngle, endAngle, fill, payload, percent, name, value} = props;\r\n  const sin = Math.sin(-RADIAN * midAngle);\r\n  const cos = Math.cos(-RADIAN * midAngle);\r\n  const sx = cx + (outerRadius + 10) * cos;\r\n  const sy = cy + (outerRadius + 10) * sin;\r\n  const mx = cx + (outerRadius + 30) * cos;\r\n  const my = cy + (outerRadius + 30) * sin;\r\n  const ex = mx + (cos >= 0 ? 1 : -1) * 22;\r\n  const ey = my;\r\n  const textAnchor = cos >= 0 ? 'start' : 'end';\r\n\r\n  return (\r\n    <g>\r\n      {/*<text x={ cx } y={ cy } dy={ 8 } textAnchor=\"middle\" fill=\"#000\">{ payload.name }</text>*/}\r\n      <Sector\r\n        cx={ cx }\r\n        cy={ cy }\r\n        innerRadius={ innerRadius }\r\n        outerRadius={ outerRadius }\r\n        startAngle={ startAngle }\r\n        endAngle={ endAngle }\r\n        fill={ fill }\r\n      />\r\n      <Sector\r\n        cx={ cx }\r\n        cy={ cy }\r\n        startAngle={ startAngle }\r\n        endAngle={ endAngle }\r\n        innerRadius={ outerRadius + 4 }\r\n        outerRadius={ outerRadius + 6 }\r\n        fill={ fill }\r\n      />\r\n      <path d={ `M${ sx },${ sy }L${ mx },${ my }L${ ex },${ ey }` } stroke={ fill } fill=\"none\" />\r\n      <circle cx={ ex } cy={ ey } r={ 2 } fill={ fill } stroke=\"none\" />\r\n      <text x={ ex + (cos >= 0 ? 1 : -1) * 12 } y={ ey } textAnchor={ textAnchor } fill=\"#333\">{ name }</text>\r\n      <text x={ ex + (cos >= 0 ? 1 : -1) * 12 } y={ ey } dy={ 18 } textAnchor={ textAnchor } fill=\"#999\">\r\n        { `(${ (percent * 100).toFixed(2) }%)` }\r\n      </text>\r\n    </g>\r\n  );\r\n};\r\n\r\nexport default function PieChart(props) {\r\n  const [activeIndex, setActiveIndex] = useState(0);\r\n  const {data, fiat, fiatSymbol} = props;\r\n\r\n  const handlePieEnter = (data, index) => {\r\n    setActiveIndex(index);\r\n  };\r\n\r\n\r\n\r\n  // console.log(fiat, fiatSymbol);\r\n\r\n  return (\r\n    <Box>\r\n      <Box>\r\n      { `${ fiat === 'btc' ? sum(data, 'value').toFixed(8) : decimalFormat(sum(data, 'value'), 2) } ${ fiatSymbol }` }\r\n      </Box>\r\n      <ResponsiveContainer width={ 400 } height={ 400 }>\r\n\r\n        <PC\r\n          // width=\"100%\" height=\"100%\"\r\n        >\r\n          <Pie\r\n            data={ data }\r\n            // cx={ 200 }\r\n            // cy={ 200 }\r\n            innerRadius={ 70 }\r\n            outerRadius={ 90 }\r\n            fill=\"#8884d8\"\r\n            dataKey=\"value\"\r\n            paddingAngle={ 1 }\r\n            activeIndex={ activeIndex }\r\n            activeShape={ renderActiveShape }\r\n            onMouseEnter={ handlePieEnter }\r\n            // labelLine={ false }\r\n            // label={ renderCustomizedLabel }\r\n          >\r\n            {\r\n              data.map((entry, index) => <Cell key={ `cell-${ index }` }\r\n                                               fill={ setColors()[index % setColors().length] } />)\r\n            }\r\n          </Pie>\r\n        </PC>\r\n      </ResponsiveContainer>\r\n    </Box>\r\n\r\n  );\r\n}\r\n","import React, { useContext, useEffect, useState, useCallback, useMemo } from 'react';\r\nimport PieChart from '../PieChart';\r\nimport { StoreContext } from '../../context';\r\nimport { sortStr } from '../../utils';\r\n\r\n// const mock = [\r\n//   {name: 'ADA', value: 400},\r\n//   {name: 'BTC', value: 300},\r\n//   {name: 'ETH', value: 300},\r\n//   {name: 'LTC', value: 200},\r\n//   {name: 'USDT', value: 10},\r\n//   {name: 'XEM', value: 110},\r\n// ];\r\n\r\nexport default function PieChartContainer() {\r\n  const {state} = useContext(StoreContext);\r\n  const [pieData, setPieData] = useState([]);\r\n\r\n\r\n  useEffect(() => {\r\n    if (!!state.tableData.length) {\r\n      setPieData(state.tableData.map(item => {\r\n        return {\r\n          name: item.title,\r\n          value: item.val\r\n        };\r\n      }).sort((a, b) => sortStr(a.name, b.name)));\r\n    }\r\n  }, [state.tableData.length, state.tableData]);\r\n\r\n  return (\r\n    <PieChart data={ pieData } fiat={state.fiat} fiatSymbol={state.fiatSymbol} />\r\n  );\r\n}\r\n","import React from 'react';\r\nimport Container from '@material-ui/core/Container';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nimport Switch from '../Switch';\r\nimport TableContainer from '../TableContainer';\r\nimport SelectCurrency from '../SelectCurrency';\r\nimport PieChartContainer from '../PieChartContainer';\r\n\r\nconst useStyles = makeStyles({\r\n  wrapper: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    minHeight: '100%'\r\n  },\r\n  main: {\r\n    flex: '1 0 auto',\r\n    overflow: 'hidden'\r\n  }\r\n});\r\n\r\nconst Header = () => (\r\n  <Container maxWidth=\"xl\">\r\n    <h1>Cryptoinfo</h1>\r\n  </Container>\r\n);\r\n\r\nconst Footer = () => (\r\n  <Container maxWidth=\"xl\">\r\n    <div>Footer</div>\r\n  </Container>\r\n);\r\n\r\nexport default function Main() {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={ classes.wrapper }>\r\n      <Header />\r\n\r\n      <div className={ classes.main }>\r\n        <Container maxWidth=\"xl\">\r\n          <Grid container alignItems=\"flex-start\">\r\n\r\n            <Grid container item xs={ 12 } lg={ 7 }>\r\n\r\n              <Grid container alignItems=\"flex-end\">\r\n                <Grid item xs>\r\n                  <Switch />\r\n                </Grid>\r\n\r\n                <Grid item xs=\"auto\">\r\n                  <SelectCurrency />\r\n                </Grid>\r\n              </Grid>\r\n              <Grid item xs={ 12 }>\r\n\r\n                <TableContainer />\r\n\r\n              </Grid>\r\n            </Grid>\r\n\r\n            <Grid container item xs={ 12 } lg={ 5 } justify=\"center\">\r\n              <PieChartContainer />\r\n            </Grid>\r\n\r\n          </Grid>\r\n        </Container>\r\n      </div>\r\n\r\n      <Footer />\r\n    </div>\r\n  );\r\n}","import React, { useReducer } from 'react';\r\nimport { reducer, initialState } from './context/reducer';\r\nimport { StoreContext } from './context';\r\nimport Main from './components/Main';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\r\n\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    background: {\r\n      default: '#fff'\r\n    }\r\n  },\r\n  overrides: {\r\n\r\n  }\r\n});\r\n\r\nfunction App() {\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n\r\n  return (\r\n    <StoreContext.Provider value={ {dispatch, state} }>\r\n      <MuiThemeProvider theme={ theme }>\r\n        <CssBaseline />\r\n        <Main />\r\n      </MuiThemeProvider>\r\n    </StoreContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App/>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}